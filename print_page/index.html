
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://amrabouelenin.github.io/wis2docs-claude/print_page/">
      
      
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Print Site - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../assets/css/custom.css">
    
    <script>__md_scope=new URL("/wis2docs-claude/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#de" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href="../de/" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sprache wechseln">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../practical-sessions/querying-data-using-the-wis2box-api/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../it/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="it" class="md-select__link">
              Italiano
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../de/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../de/" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Startseite
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Praktische Sitzungen
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Praktische Sitzungen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verbindung zu WIS2 über MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/accessing-your-student-vm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zugriff auf Ihre Studenten-VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/initializing-wis2box/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Initialisierung von wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/configuring-wis2box-datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konfigurieren von Datensätzen in wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/configuring-station-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konfigurieren von Stationsmetadaten
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/monitoring-wis2-notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Überwachung von WIS2-Benachrichtigungen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-synop-data-to-bufr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von SYNOP-Daten in BUFR von der Befehlszeile aus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-synop-data-to-bufr-form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von SYNOP-Daten in BUFR mit der wis2box-Webanwendung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-csv-data-to-bufr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von CSV-Daten in BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/automating-data-ingestion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatisieren der Datenaufnahme
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hinzufügen von GTS-Headern zu WIS2-Benachrichtigungen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/datasets-with-access-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Einrichten eines empfohlenen Datensatzes mit Zugriffskontrolle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/downloading-data-from-wis2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Daten von WIS2 herunterladen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auffinden von Datensätzen im globalen Entdeckungskatalog von WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/querying-data-using-the-wis2box-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abfragen von Daten mit der wis2box-API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spickzettel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Spickzettel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/wis2box/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WIS2 in a box
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSV2BUFR-Vorlagen
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CSV2BUFR-Vorlagen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS stündlich
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#de" class="md-nav__link">
    <span class="md-ellipsis">
      1 Startseite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 Praktische Sitzungen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Praktische Sitzungen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-connecting-to-wis2-over-mqtt" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Verbindung zu WIS2 über MQTT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-accessing-your-student-vm" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Zugriff auf Ihre Studenten-VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-initializing-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Initialisierung von wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-configuring-wis2box-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Konfigurieren von Datensätzen in wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-configuring-station-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Konfigurieren von Stationsmetadaten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-monitoring-wis2-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Überwachung von WIS2-Benachrichtigungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-synop-data-to-bufr" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Konvertieren von SYNOP-Daten in BUFR von der Befehlszeile aus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-synop-data-to-bufr-form" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 Konvertieren von SYNOP-Daten in BUFR mit der wis2box-Webanwendung
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-csv-data-to-bufr" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 Konvertieren von CSV-Daten in BUFR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-automating-data-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      2.10 Automatisieren der Datenaufnahme
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-adding-gts-headers-to-wis2-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      2.11 Hinzufügen von GTS-Headern zu WIS2-Benachrichtigungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-datasets-with-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      2.12 Einrichten eines empfohlenen Datensatzes mit Zugriffskontrolle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-downloading-data-from-wis2" class="md-nav__link">
    <span class="md-ellipsis">
      2.13 Daten von WIS2 herunterladen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-discovering-datasets-from-wis2-gdc" class="md-nav__link">
    <span class="md-ellipsis">
      2.14 Auffinden von Datensätzen im globalen Entdeckungskatalog von WIS2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-querying-data-using-the-wis2box-api" class="md-nav__link">
    <span class="md-ellipsis">
      2.15 Abfragen von Daten mit der wis2box-API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 Spickzettel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Spickzettel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-linux" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-docker" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 WIS2 in a box
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      4 CSV2BUFR-Vorlagen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 CSV2BUFR-Vorlagen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-csv2bufr-templates-aws-template" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 AWS stündlich
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-csv2bufr-templates-daycli-template" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 DAYCLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="de" heading-number="1"><p><img alt="WMO Logo" src="../de/assets/img/wmo-logo.png" width="200"></p>
<h1 id="de-wis2-in-a-box-training">WIS2 in a box Training</h1>
<p>WIS2 in a box (<a href="https://docs.wis2box.wis.wmo.int">wis2box</a>) ist eine freie und quelloffene (FOSS) Referenzimplementierung eines WMO WIS2-Knotens. Das Projekt bietet ein Plug-and-Play-Toolset zum Erfassen, Verarbeiten und Veröffentlichen von Wetter-/Klima-/Wasserdaten unter Verwendung standardbasierter Ansätze in Übereinstimmung mit den WIS2-Prinzipien. wis2box bietet auch Zugang zu allen Daten im WIS2-Netzwerk. wis2box ist so konzipiert, dass es für Datenanbieter eine niedrige Einstiegshürde darstellt und ermöglicht Infrastruktur und Dienste für Datensuche, -zugriff und -visualisierung.</p>
<p>Dieses Training bietet schrittweise Erklärungen zu verschiedenen Aspekten des wis2box-Projekts sowie eine Reihe von Übungen, die Ihnen helfen, Daten in WIS2 zu veröffentlichen und herunterzuladen. Das Training wird in Form von Überblickspräsentationen sowie praktischen Übungen angeboten.</p>
<p>Die Teilnehmer können mit Beispieldaten und -metadaten arbeiten sowie ihre eigenen Daten und Metadaten integrieren.</p>
<p>Dieses Training deckt ein breites Spektrum an Themen ab (Installation/Einrichtung/Konfiguration, Veröffentlichung/Herunterladen von Daten usw.).</p>
<h2 id="de-ziele-und-lernergebnisse">Ziele und Lernergebnisse</h2>
<p>Die Ziele dieses Trainings sind, sich mit Folgendem vertraut zu machen:</p>
<ul>
<li>Kernkonzepte und Komponenten der WIS2-Architektur</li>
<li>Daten- und Metadatenformate, die in WIS2 für Suche und Zugriff verwendet werden</li>
<li>wis2box-Architektur und -Umgebung</li>
<li>wis2box-Kernfunktionen:<ul>
<li>Metadatenverwaltung</li>
<li>Datenerfassung und Umwandlung in das BUFR-Format</li>
<li>MQTT-Broker für die Veröffentlichung von WIS2-Nachrichten</li>
<li>HTTP-Endpunkt für den Datendownload</li>
<li>API-Endpunkt für programmatischen Zugriff auf Daten</li>
</ul>
</li>
</ul>
<h2 id="de-navigation">Navigation</h2>
<p>Die linke Navigation bietet ein Inhaltsverzeichnis für das gesamte Training.</p>
<p>Die rechte Navigation bietet ein Inhaltsverzeichnis für eine bestimmte Seite.</p>
<h2 id="de-voraussetzungen">Voraussetzungen</h2>
<h3 id="de-wissen">Wissen</h3>
<ul>
<li>Grundlegende Linux-Befehle (siehe <a href="#de-cheatsheets-linux">Spickzettel</a>)</li>
<li>Grundkenntnisse in Netzwerken und Internetprotokollen</li>
</ul>
<h3 id="de-software">Software</h3>
<p>Für dieses Training werden folgende Tools benötigt:</p>
<ul>
<li>Eine Instanz mit Ubuntu-Betriebssystem (wird von WMO-Trainern während lokaler Trainingseinheiten bereitgestellt), siehe <a href="#de-practical-sessions-accessing-your-student-vm-introduction">Zugriff auf Ihre Studenten-VM</a></li>
<li>SSH-Client für den Zugriff auf Ihre Instanz</li>
<li>MQTT Explorer auf Ihrem lokalen Computer</li>
<li>SCP- und FTP-Client zum Kopieren von Dateien von Ihrem lokalen Computer</li>
</ul>
<h2 id="de-konventionen">Konventionen</h2>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Ein so markierter Abschnitt fordert Sie auf, eine Frage zu beantworten.</p>
</div>
<p>Außerdem werden Sie im Text Tipps und Hinweise finden:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Tipps helfen Ihnen dabei, Aufgaben am besten zu erledigen.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hinweise bieten zusätzliche Informationen zum Thema der praktischen Sitzung sowie dazu, wie Aufgaben am besten erledigt werden können.</p>
</div>
<p>Beispiele werden wie folgt dargestellt:</p>
<p>Konfiguration
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">my-collection-defined-in-yaml</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">collection</span>
<span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my title defined as a yaml attribute named title</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my description as a yaml attribute named description</span>
</code></pre></div></td></tr></table></div></p>
<p>Snippets, die in einem Terminal/einer Konsole eingegeben werden müssen, werden wie folgt dargestellt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello world&#39;</span>
</code></pre></div>
<p>Container-Namen (laufende Images) werden in <strong>Fettdruck</strong> dargestellt.</p>
<h2 id="de-trainingsort-und-materialien">Trainingsort und -materialien</h2>
<p>Die Trainingsinhalte, das Wiki und der Issue-Tracker werden auf GitHub unter <a href="https://github.com/wmo-im/wis2box-training">https://github.com/wmo-im/wis2box-training</a> verwaltet.</p>
<h2 id="de-drucken-des-materials">Drucken des Materials</h2>
<p>Dieses Training kann als PDF exportiert werden. Um dieses Trainingsmaterial zu speichern oder zu drucken, gehen Sie zur <a href="#de-print_page">Druckseite</a> und wählen Sie Datei &gt; Drucken &gt; Als PDF speichern.</p>
<h2 id="de-ubungsmaterialien">Übungsmaterialien</h2>
<p>Übungsmaterialien können aus der <a href="/exercise-materials.zip">exercise-materials.zip</a> Zip-Datei heruntergeladen werden.</p>
<h2 id="de-unterstutzung">Unterstützung</h2>
<p>Für Probleme/Fehler/Vorschläge oder Verbesserungen/Beiträge zu diesem Training nutzen Sie bitte den <a href="https://github.com/wmo-im/wis2box-training/issues">GitHub Issue Tracker</a>.</p>
<p>Alle wis2box-Fehler, Verbesserungen und Probleme können auf <a href="https://github.com/wmo-im/wis2box/issues">GitHub</a> gemeldet werden.</p>
<p>Für zusätzliche Unterstützung oder Fragen kontaktieren Sie bitte wis2-support@wmo.int.</p>
<p>Wie immer ist die wis2box-Kerndokumentation unter <a href="https://docs.wis2box.wis.wmo.int">https://docs.wis2box.wis.wmo.int</a> zu finden.</p>
<p>Beiträge sind immer willkommen und werden gefördert!</p></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Praktische Sitzungen<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-practical-sessions-connecting-to-wis2-over-mqtt" heading-number="2.1"><h1 id="de-practical-sessions-connecting-to-wis2-over-mqtt-verbindung-zu-wis2-uber-mqtt">Verbindung zu WIS2 über MQTT</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>sich mit dem WIS2 Global Broker über MQTT Explorer zu verbinden</li>
<li>die WIS2-Themenstruktur zu überprüfen</li>
<li>die Struktur der WIS2-Benachrichtigungsnachrichten zu überprüfen</li>
</ul>
</div>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-einfuhrung">Einführung</h2>
<p>WIS2 verwendet das MQTT-Protokoll, um die Verfügbarkeit von Wetter-/Klima-/Wasserdaten bekannt zu geben. Der WIS2 Global Broker abonniert alle WIS2-Knoten im Netzwerk und veröffentlicht die empfangenen Nachrichten erneut. Der Global Cache abonniert den Global Broker, lädt die Daten in der Nachricht herunter und veröffentlicht die Nachricht dann erneut im <code>cache</code>-Thema mit einer neuen URL. Der Global Discovery Catalogue veröffentlicht Erkennungsmetadaten vom Broker und bietet eine Such-API.</p>
<p>Dies ist ein Beispiel für die Struktur einer WIS2-Benachrichtigungsnachricht, die zum Thema <code>origin/a/wis2/br-inmet/data/core/weather/surface-based-observations/synop</code> empfangen wurde:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;59f9b013-c4b3-410a-a52d-fff18f3f1b47&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v04&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;geometry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;coordinates&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="mf">-38.69389</span><span class="p">,</span>
<span class="w">      </span><span class="mf">-17.96472</span><span class="p">,</span>
<span class="w">      </span><span class="mi">60</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Point&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;data_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;br-inmet/data/core/weather/surface-based-observations/synop/WIGOS_0-76-2-2900801000W83499_20240815T060000&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;datetime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-08-15T06:00:00Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pubtime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-08-15T09:52:02Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;integrity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sha512&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TBuWycx/G0lIiTo47eFPBViGutxcIyk7eikppAKPc4aHgOmTIS5Wb9+0v3awMOyCgwpFhTruRRCVReMQMp5kYw==&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;encoding&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;base64&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QlVGUgAA+gQAABYAACsAAAAAAAIAHAAH6AgPBgAAAAALAAABgMGWx1AAAM0ABOIAAAODM0OTkAAAAAAAAAAAAAAKb5oKEpJ6YkJ6mAAAAAAAAAAAAAAAAv0QeYA29WQa87ZhH4CQP//z+P//BD////+ASznXuUb///8MgAS3/////8X///e+AP////AB/+R/yf////////////////////6/1/79H/3///gEt////////4BLP6QAf/+/pAB//4H0YJ/YeAh/f2///7TH/////9+j//f///////////////////v0f//////////////////////wNzc3Nw==&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;wigos_station_identifier&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0-76-2-2900801000W83499&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;links&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;rel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;canonical&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/bufr&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://wis2bra.inmet.gov.br/data/2024-08-15/wis/br-inmet/data/core/weather/surface-based-observations/synop/WIGOS_0-76-2-2900801000W83499_20240815T060000.bufr4&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>In dieser praktischen Sitzung lernen Sie, wie Sie das MQTT Explorer-Tool verwenden, um eine MQTT-Client-Verbindung zu einem WIS2 Global Broker einzurichten und WIS2-Benachrichtigungsnachrichten anzuzeigen.</p>
<p>MQTT Explorer ist ein nützliches Tool, um die Themenstruktur für einen bestimmten MQTT-Broker zu durchsuchen und zu überprüfen, welche Daten veröffentlicht werden.</p>
<p>Beachten Sie, dass MQTT hauptsächlich für die "Maschine-zu-Maschine"-Kommunikation verwendet wird; das bedeutet, dass normalerweise ein Client die empfangenen Nachrichten automatisch analysieren würde. Um programmatisch mit MQTT zu arbeiten (zum Beispiel in Python), können Sie MQTT-Client-Bibliotheken wie <a href="https://pypi.org/project/paho-mqtt">paho-mqtt</a> verwenden, um eine Verbindung zu einem MQTT-Broker herzustellen und eingehende Nachrichten zu verarbeiten. Es gibt zahlreiche MQTT-Client- und Server-Software, je nach Ihren Anforderungen und Ihrer technischen Umgebung.</p>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-verwendung-von-mqtt-explorer-zur-verbindung-mit-dem-global-broker">Verwendung von MQTT Explorer zur Verbindung mit dem Global Broker</h2>
<p>Um Nachrichten anzuzeigen, die von einem WIS2 Global Broker veröffentlicht wurden, können Sie "MQTT Explorer" verwenden, der von der <a href="https://mqtt-explorer.com">MQTT Explorer-Website</a> heruntergeladen werden kann.</p>
<p>Öffnen Sie MQTT Explorer und fügen Sie eine neue Verbindung zum Global Broker hinzu, der von MeteoFrance mit den folgenden Details gehostet wird:</p>
<ul>
<li>Host: globalbroker.meteo.fr</li>
<li>Port: 8883</li>
<li>Benutzername: everyone</li>
<li>Passwort: everyone</li>
</ul>
<p><img alt="mqtt-explorer-global-broker-connection" src="../de/assets/img/mqtt-explorer-global-broker-connection.png" width="800"></p>
<p>Klicken Sie auf die Schaltfläche 'ADVANCED', entfernen Sie die vorkonfigurierten Themen und fügen Sie die folgenden Themen zum Abonnieren hinzu:</p>
<ul>
<li><code>origin/a/wis2/#</code></li>
</ul>
<p><img alt="mqtt-explorer-global-broker-advanced" src="../de/assets/img/mqtt-explorer-global-broker-sub-origin.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bei der Einrichtung von MQTT-Abonnements können Sie die folgenden Platzhalter verwenden:</p>
<ul>
<li><strong>Einstufiger Platzhalter (+)</strong>: Ein einstufiger Platzhalter ersetzt eine Themenebene</li>
<li><strong>Mehrstufiger Platzhalter (#)</strong>: Ein mehrstufiger Platzhalter ersetzt mehrere Themenebenen</li>
</ul>
<p>In diesem Fall abonniert <code>origin/a/wis2/#</code> alle Themen unter dem Thema <code>origin/a/wis2</code>.</p>
</div>
<p>Klicken Sie auf 'BACK', dann auf 'SAVE', um Ihre Verbindungs- und Abonnementdetails zu speichern. Klicken Sie dann auf 'CONNECT':</p>
<p>Nachrichten sollten in Ihrer MQTT Explorer-Sitzung wie folgt erscheinen:</p>
<p><img alt="mqtt-explorer-global-broker-topics" src="../de/assets/img/mqtt-explorer-global-broker-msg-origin.png" width="800"></p>
<p>Sie sind jetzt bereit, die WIS2-Themen und die Nachrichtenstruktur zu erkunden.</p>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-1-uberprufung-der-wis2-themenstruktur">Übung 1: Überprüfung der WIS2-Themenstruktur</h2>
<p>Verwenden Sie MQTT, um die Themenstruktur unter den <code>origin</code>-Themen zu durchsuchen.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir das WIS-Zentrum unterscheiden, das die Daten veröffentlicht hat?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Sie können auf der linken Seite im MQTT Explorer klicken, um die Themenstruktur zu erweitern.</p>
<p>Wir können das WIS-Zentrum, das die Daten veröffentlicht hat, anhand der vierten Ebene der Themenstruktur unterscheiden. Zum Beispiel sagt uns das folgende Thema:</p>
<p><code>origin/a/wis2/br-inmet/data/core/weather/surface-based-observations/synop</code></p>
<p>dass die Daten von einem WIS-Zentrum mit der Zentren-ID <code>br-inmet</code> veröffentlicht wurden, was die Zentren-ID für das Instituto Nacional de Meteorologia - INMET, Brasilien, ist.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir zwischen Nachrichten unterscheiden, die von WIS-Zentren mit einem GTS-zu-WIS2-Gateway und Nachrichten, die von WIS-Zentren mit einem WIS2-Knoten veröffentlicht wurden?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Wir können Nachrichten von einem GTS-zu-WIS2-Gateway anhand der Zentren-ID in der Themenstruktur unterscheiden. Zum Beispiel sagt uns das folgende Thema:</p>
<p><code>origin/a/wis2/de-dwd-gts-to-wis2/data/core/I/S/A/I/01/sbbr</code></p>
<p>dass die Daten vom GTS-zu-WIS2-Gateway veröffentlicht wurden, das vom Deutschen Wetterdienst (DWD), Deutschland, gehostet wird. Das GTS-zu-WIS2-Gateway ist ein spezieller Typ von Datenveröffentlicher, der Daten aus dem Global Telecommunication System (GTS) an WIS2 veröffentlicht. Die Themenstruktur besteht aus den TTAAii CCCC-Headern für die GTS-Nachrichten.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-2-uberprufung-der-wis2-nachrichtenstruktur">Übung 2: Überprüfung der WIS2-Nachrichtenstruktur</h2>
<p>Trennen Sie die Verbindung zu MQTT Explorer und aktualisieren Sie die 'Advanced'-Abschnitte, um das Abonnement wie folgt zu ändern:</p>
<ul>
<li><code>origin/a/wis2/+/data/core/weather/surface-based-observations/synop</code></li>
<li><code>cache/a/wis2/+/data/core/weather/surface-based-observations/synop</code></li>
</ul>
<p><img alt="mqtt-explorer-global-broker-topics-exercise2" src="../de/assets/img/mqtt-explorer-global-broker-sub-origin-cache-synop.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der <code>+</code>-Platzhalter wird verwendet, um alle WIS-Zentren zu abonnieren.</p>
</div>
<p>Stellen Sie die Verbindung zum Global Broker wieder her und warten Sie, bis Nachrichten erscheinen.</p>
<p>Sie können den Inhalt der WIS2-Nachricht im Abschnitt "Value" auf der rechten Seite anzeigen. Versuchen Sie, die Themenstruktur zu erweitern, um die verschiedenen Ebenen der Nachricht zu sehen, bis Sie die letzte Ebene erreichen, und überprüfen Sie den Nachrichteninhalt einer der Nachrichten.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir den Zeitstempel identifizieren, zu dem die Daten veröffentlicht wurden? Und wie können wir den Zeitstempel identifizieren, zu dem die Daten gesammelt wurden?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der Zeitstempel, zu dem die Daten veröffentlicht wurden, ist im Abschnitt <code>properties</code> der Nachricht mit einem Schlüssel von <code>pubtime</code> enthalten.</p>
<p>Der Zeitstempel, zu dem die Daten gesammelt wurden, ist im Abschnitt <code>properties</code> der Nachricht mit einem Schlüssel von <code>datetime</code> enthalten.</p>
<p><img alt="mqtt-explorer-global-broker-msg-properties" src="../de/assets/img/mqtt-explorer-global-broker-msg-properties.png" width="800"></p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Daten von der in der Nachricht angegebenen URL herunterladen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Die URL ist im Abschnitt <code>links</code> mit <code>rel="canonical"</code> enthalten und wird durch den Schlüssel <code>href</code> definiert.</p>
<p>Sie können die URL kopieren und in einen Webbrowser einfügen, um die Daten herunterzuladen.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-3-uberprufung-des-unterschieds-zwischen-origin-und-cache-themen">Übung 3: Überprüfung des Unterschieds zwischen 'origin'- und 'cache'-Themen</h2>
<p>Stellen Sie sicher, dass Sie noch mit dem Global Broker verbunden sind und die Themenabonnements <code>origin/a/wis2/+/data/core/weather/surface-based-observations/synop</code> und <code>cache/a/wis2/+/data/core/weather/surface-based-observations/synop</code> wie in Übung 2 beschrieben verwenden.</p>
<p>Versuchen Sie, eine Nachricht für dieselbe Zentren-ID zu identifizieren, die sowohl auf den Themen <code>origin</code> als auch <code>cache</code> veröffentlicht wurde.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist der Unterschied zwischen den Nachrichten, die auf den Themen <code>origin</code> und <code>cache</code> veröffentlicht wurden?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Die auf den <code>origin</code>-Themen veröffentlichten Nachrichten sind die ursprünglichen Nachrichten, die der Global Broker von den WIS2-Knoten im Netzwerk erneut veröffentlicht.</p>
<p>Die auf den <code>cache</code>-Themen veröffentlichten Nachrichten sind die Nachrichten für Daten, die vom Global Cache heruntergeladen wurden. Wenn Sie den Inhalt der Nachricht aus dem Thema überprüfen, das mit <code>cache</code> beginnt, werden Sie sehen, dass der 'canonical'-Link zu einer neuen URL aktualisiert wurde.</p>
<p>Es gibt mehrere Global Caches im WIS2-Netzwerk, sodass Sie eine Nachricht von jedem Global Cache erhalten, der die Nachricht heruntergeladen hat.</p>
<p>Der Global Cache lädt nur Nachrichten herunter und veröffentlicht sie erneut, die in der Themenhierarchie <code>../data/core/...</code> veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt:</p>
<ul>
<li>wie man WIS2 Global Broker-Dienste mit MQTT Explorer abonniert</li>
<li>die WIS2-Themenstruktur</li>
<li>die Struktur der WIS2-Benachrichtigungsnachrichten</li>
<li>den Unterschied zwischen Kern- und empfohlenen Daten</li>
<li>die Themenstruktur, die vom GTS-zu-WIS2-Gateway verwendet wird</li>
<li>den Unterschied zwischen Global Broker-Nachrichten, die auf den Themen <code>origin</code> und <code>cache</code> veröffentlicht wurden</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-accessing-your-student-vm" heading-number="2.2"><h1 id="de-practical-sessions-accessing-your-student-vm-zugriff-auf-ihre-studenten-vm">Zugriff auf Ihre Studenten-VM</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>auf Ihre Studenten-VM über SSH und WinSCP zuzugreifen</li>
<li>zu überprüfen, ob die erforderliche Software für die praktischen Übungen installiert ist</li>
<li>zu überprüfen, ob Sie Zugriff auf Übungsmaterialien für diese Schulung auf Ihrer lokalen Studenten-VM haben</li>
</ul>
</div>
<h2 id="de-practical-sessions-accessing-your-student-vm-einfuhrung">Einführung</h2>
<p>Im Rahmen lokaler wis2box-Schulungssitzungen können Sie auf Ihre persönliche Studenten-VM im lokalen Schulungsnetzwerk mit dem Namen "WIS2-training" zugreifen.</p>
<p>Auf Ihrer Studenten-VM ist folgende Software vorinstalliert:</p>
<ul>
<li>Ubuntu 22.0.4.3 LTS <a href="https://releases.ubuntu.com/jammy/ubuntu-22.04.3-live-server-amd64.iso">ubuntu-22.04.3-live-server-amd64.iso</a></li>
<li>Python 3.10.12</li>
<li>Docker 24.0.6</li>
<li>Docker Compose 2.21.0</li>
<li>Texteditoren: vim, nano</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wenn Sie diese Schulung außerhalb einer lokalen Schulungssitzung durchführen möchten, können Sie Ihre eigene Instanz über einen beliebigen Cloud-Anbieter bereitstellen, zum Beispiel:</p>
<ul>
<li>GCP (Google Cloud Platform) VM-Instanz <code>e2-medium</code></li>
<li>AWS (Amazon Web Services) ec2-Instanz <code>t3a.medium</code> </li>
<li>Azure (Microsoft) Azure Virtual Machine <code>standard_b2s</code></li>
</ul>
<p>Wählen Sie Ubuntu Server 22.0.4 LTS als Betriebssystem.</p>
<p>Stellen Sie nach dem Erstellen Ihrer VM sicher, dass Sie Python, Docker und Docker Compose installiert haben, wie unter <a href="https://docs.wis2box.wis.wmo.int/en/latest/user/getting-started.html#software-dependencies">wis2box-software-dependencies</a> beschrieben.</p>
<p>Das Release-Archiv für wis2box, das in dieser Schulung verwendet wird, kann wie folgt heruntergeladen werden:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/wmo-im/wis2box/releases/download/1.0.0rc1/wis2box-setup-1.0.0rc1.zip
unzip<span class="w"> </span>wis2box-setup-1.0.0rc1.zip
</code></pre></div>
<p>Das neueste 'wis2box-setup'-Archiv finden Sie immer unter <a href="https://github.com/wmo-im/wis2box/releases">https://github.com/wmo-im/wis2box/releases</a>.</p>
<p>Das in dieser Schulung verwendete Übungsmaterial kann wie folgt heruntergeladen werden:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://training.wis2box.wis.wmo.int/exercise-materials.zip
unzip<span class="w"> </span>exercise-materials.zip
</code></pre></div>
<p>Die folgenden zusätzlichen Python-Pakete sind erforderlich, um die Übungsmaterialien auszuführen:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>minio
</code></pre></div>
<p>Wenn Sie die während lokaler WIS2-Schulungssitzungen bereitgestellte Studenten-VM verwenden, ist die erforderliche Software bereits installiert.</p>
</div>
<h2 id="de-practical-sessions-accessing-your-student-vm-verbindung-zu-ihrer-studenten-vm-im-lokalen-schulungsnetzwerk-herstellen">Verbindung zu Ihrer Studenten-VM im lokalen Schulungsnetzwerk herstellen</h2>
<p>Verbinden Sie Ihren PC mit dem lokalen WLAN, das während der WIS2-Schulung im Raum ausgestrahlt wird, gemäß den Anweisungen des Trainers.</p>
<p>Verwenden Sie einen SSH-Client, um eine Verbindung zu Ihrer Studenten-VM herzustellen, mit folgenden Angaben:</p>
<ul>
<li><strong>Host: (wird während der Präsenzschulung bereitgestellt)</strong></li>
<li><strong>Port: 22</strong></li>
<li><strong>Benutzername: (wird während der Präsenzschulung bereitgestellt)</strong></li>
<li><strong>Passwort: (wird während der Präsenzschulung bereitgestellt)</strong></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Wenden Sie sich an einen Trainer, wenn Sie sich bezüglich des Hostnamens/Benutzernamens nicht sicher sind oder Probleme bei der Verbindung haben.</p>
</div>
<p>Sobald Sie verbunden sind, ändern Sie bitte Ihr Passwort, um sicherzustellen, dass andere nicht auf Ihre VM zugreifen können:</p>
<div class="highlight"><pre><span></span><code>limper@student-vm:~$<span class="w"> </span>passwd
Changing<span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>testuser.
Current<span class="w"> </span>password:
New<span class="w"> </span>password:
Retype<span class="w"> </span>new<span class="w"> </span>password:
passwd:<span class="w"> </span>password<span class="w"> </span>updated<span class="w"> </span>successfully
</code></pre></div>
<h2 id="de-practical-sessions-accessing-your-student-vm-uberprufen-der-softwareversionen">Überprüfen der Softwareversionen</h2>
<p>Um wis2box ausführen zu können, sollten auf der Studenten-VM Python, Docker und Docker Compose vorinstalliert sein.</p>
<p>Python-Version überprüfen:
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>--version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Python 3.10.12</span>
</code></pre></div></p>
<p>Docker-Version überprüfen:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>--version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Docker version 24.0.6, build ed223bc</span>
</code></pre></div></p>
<p>Docker Compose-Version überprüfen:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Docker Compose version v2.21.0</span>
</code></pre></div></p>
<p>Um sicherzustellen, dass Ihr Benutzer Docker-Befehle ausführen kann, wurde Ihr Benutzer zur Gruppe <code>docker</code> hinzugefügt.</p>
<p>Um zu testen, ob Ihr Benutzer docker hello-world ausführen kann, führen Sie den folgenden Befehl aus:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>hello-world
</code></pre></div></p>
<p>Dies sollte das hello-world-Image herunterladen und einen Container ausführen, der eine Nachricht ausgibt.</p>
<p>Überprüfen Sie, ob Sie Folgendes in der Ausgabe sehen:</p>
<div class="highlight"><pre><span></span><code><span class="go">...</span>
<span class="go">Hello from Docker!</span>
<span class="go">This message shows that your installation appears to be working correctly.</span>
<span class="go">...</span>
</code></pre></div>
<h2 id="de-practical-sessions-accessing-your-student-vm-uberprufen-der-ubungsmaterialien">Überprüfen der Übungsmaterialien</h2>
<p>Überprüfen Sie den Inhalt Ihres Home-Verzeichnisses; dies sind die Materialien, die im Rahmen der Schulung und der praktischen Sitzungen verwendet werden.</p>
<p><div class="highlight"><pre><span></span><code>ls<span class="w"> </span>~/
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">exercise-materials  wis2box-1.0.0rc1</span>
</code></pre></div></p>
<p>Wenn Sie WinSCP auf Ihrem lokalen PC installiert haben, können Sie es verwenden, um eine Verbindung zu Ihrer Studenten-VM herzustellen und den Inhalt Ihres Home-Verzeichnisses zu überprüfen sowie Dateien zwischen Ihrer VM und Ihrem lokalen PC hoch- oder herunterzuladen.</p>
<p>WinSCP ist für die Schulung nicht erforderlich, kann aber nützlich sein, wenn Sie Dateien auf Ihrer VM mit einem Texteditor auf Ihrem lokalen PC bearbeiten möchten.</p>
<p>So können Sie eine Verbindung zu Ihrer Studenten-VM mit WinSCP herstellen:</p>
<p>Öffnen Sie WinSCP und klicken Sie auf "Neue Site". Sie können wie folgt eine neue SCP-Verbindung zu Ihrer VM erstellen:</p>
<p><img alt="winscp-student-vm-scp.png" src="../de/assets/img/winscp-student-vm-scp.png" width="400"></p>
<p>Klicken Sie auf 'Speichern' und dann auf 'Anmelden', um eine Verbindung zu Ihrer VM herzustellen.</p>
<p>Sie sollten dann den folgenden Inhalt sehen können:</p>
<p><img alt="winscp-student-vm-exercise-materials.png" src="../de/assets/img/winscp-student-vm-exercise-materials.png" width="600"></p>
<h2 id="de-practical-sessions-accessing-your-student-vm-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie Sie:</p>
<ul>
<li>auf Ihre Studenten-VM über SSH und WinSCP zugreifen</li>
<li>überprüfen, ob die erforderliche Software für die praktischen Übungen installiert ist</li>
<li>überprüfen, ob Sie Zugriff auf Übungsmaterialien für diese Schulung auf Ihrer lokalen Studenten-VM haben</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-initializing-wis2box" heading-number="2.3"><h1 id="de-practical-sessions-initializing-wis2box-initialisierung-von-wis2box">Initialisierung von wis2box</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>das Skript <code>wis2box-create-config.py</code> auszuführen, um die Anfangskonfiguration zu erstellen</li>
<li>wis2box zu starten und den Status seiner Komponenten zu überprüfen</li>
<li>auf die <strong>wis2box-webapp</strong>, API, MinIO UI und das Grafana-Dashboard in einem Browser zuzugreifen</li>
<li>sich mit dem lokalen <strong>wis2box-broker</strong> über MQTT Explorer zu verbinden</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die aktuellen Schulungsmaterialien verwenden wis2box-1.0.0rc1. </p>
<p>Siehe <a href="#de-practical-sessions-accessing-your-student-vm">accessing-your-student-vm</a> für Anweisungen zum Herunterladen und Installieren des wis2box-Softwarepakets, wenn Sie diese Schulung außerhalb einer lokalen Schulungssitzung durchführen.</p>
</div>
<h2 id="de-practical-sessions-initializing-wis2box-vorbereitung">Vorbereitung</h2>
<p>Melden Sie sich mit Ihrem Benutzernamen und Passwort an Ihrer zugewiesenen VM an und stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
</code></pre></div>
<h2 id="de-practical-sessions-initializing-wis2box-erstellen-der-anfangskonfiguration">Erstellen der Anfangskonfiguration</h2>
<p>Die Anfangskonfiguration für die wis2box erfordert:</p>
<ul>
<li>eine Umgebungsdatei <code>wis2box.env</code>, die die Konfigurationsparameter enthält</li>
<li>ein Verzeichnis auf dem Host-Rechner, das zwischen dem Host-Rechner und den wis2box-Containern geteilt wird, definiert durch die Umgebungsvariable <code>WIS2BOX_HOST_DATADIR</code></li>
</ul>
<p>Das Skript <code>wis2box-create-config.py</code> kann verwendet werden, um die Anfangskonfiguration Ihrer wis2box zu erstellen. </p>
<p>Es wird Ihnen eine Reihe von Fragen stellen, um Ihre Konfiguration einzurichten.</p>
<p>Sie können die Konfigurationsdateien nach Abschluss des Skripts überprüfen und aktualisieren.</p>
<p>Führen Sie das Skript wie folgt aus:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-create-config.py
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-wis2box-host-data-verzeichnis">wis2box-host-data Verzeichnis</h3>
<p>Das Skript wird Sie bitten, das Verzeichnis einzugeben, das für die Umgebungsvariable <code>WIS2BOX_HOST_DATADIR</code> verwendet werden soll.</p>
<p>Beachten Sie, dass Sie den vollständigen Pfad zu diesem Verzeichnis angeben müssen.</p>
<p>Wenn Ihr Benutzername beispielsweise <code>username</code> ist, lautet der vollständige Pfad zum Verzeichnis <code>/home/username/wis2box-data</code>:</p>
<div class="highlight"><pre><span></span><code>username@student-vm-username:~/wis2box-1.0.0rc1$ python3 wis2box-create-config.py
Please enter the directory to be used for WIS2BOX_HOST_DATADIR:
/home/username/wis2box-data
The directory to be used for WIS2BOX_HOST_DATADIR will be set to:
    /home/username/wis2box-data
Is this correct? (y/n/exit)
y
The directory /home/username/wis2box-data has been created.
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-wis2box-url">wis2box URL</h3>
<p>Als Nächstes werden Sie aufgefordert, die URL für Ihre wis2box einzugeben. Dies ist die URL, die für den Zugriff auf die wis2box-Webanwendung, API und UI verwendet wird.</p>
<p>Bitte verwenden Sie <code>http://&lt;Ihr-Hostname-oder-IP&gt;</code> als URL.</p>
<div class="highlight"><pre><span></span><code>Please enter the URL of the wis2box:
 For local testing the URL is http://localhost
 To enable remote access, the URL should point to the public IP address or domain name of the server hosting the wis2box.
http://username.wis2.training
The URL of the wis2box will be set to:
  http://username.wis2.training
Is this correct? (y/n/exit)
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-webapp-storage-und-broker-passworter">WEBAPP, STORAGE und BROKER Passwörter</h3>
<p>Sie können die Option der zufälligen Passwortgenerierung wählen, wenn Sie nach <code>WIS2BOX_WEBAPP_PASSWORD</code>, <code>WIS2BOX_STORAGE_PASSWORD</code>, <code>WIS2BOX_BROKER_PASSWORD</code> gefragt werden, oder Ihre eigenen definieren.</p>
<p>Machen Sie sich keine Sorgen, diese Passwörter zu merken, sie werden in der Datei <code>wis2box.env</code> in Ihrem wis2box-1.0.0rc1-Verzeichnis gespeichert.</p>
<h3 id="de-practical-sessions-initializing-wis2box-uberprufung-von-wis2boxenv">Überprüfung von <code>wis2box.env</code></h3>
<p>Sobald das Skript abgeschlossen ist, überprüfen Sie den Inhalt der Datei <code>wis2box.env</code> in Ihrem aktuellen Verzeichnis:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box-1.0.0rc1/wis2box.env
</code></pre></div>
<p>Oder überprüfen Sie den Inhalt der Datei über WinSCP.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist der Wert von WISBOX_BASEMAP_URL in der wis2box.env-Datei?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der Standardwert für WIS2BOX_BASEMAP_URL ist <code>https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png</code>.</p>
<p>Diese URL verweist auf den OpenStreetMap-Tile-Server. Wenn Sie einen anderen Kartenanbieter verwenden möchten, können Sie diese URL ändern, um auf einen anderen Tile-Server zu verweisen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist der Wert der Umgebungsvariable WIS2BOX_STORAGE_DATA_RETENTION_DAYS in der wis2box.env-Datei?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der Standardwert für WIS2BOX_STORAGE_DATA_RETENTION_DAYS beträgt 30 Tage. Sie können diesen Wert auf eine andere Anzahl von Tagen ändern, wenn Sie möchten.</p>
<p>Der wis2box-management-Container führt täglich einen Cronjob aus, um Daten, die älter als die durch WIS2BOX_STORAGE_DATA_RETENTION_DAYS definierte Anzahl von Tagen sind, aus dem <code>wis2box-public</code>-Bucket und dem API-Backend zu entfernen:</p>
<div class="highlight"><pre><span></span><code>0 0 * * * su wis2box -c &quot;wis2box data clean --days=$WIS2BOX_STORAGE_DATA_RETENTION_DAYS&quot;
</code></pre></div>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die Datei <code>wis2box.env</code> enthält Umgebungsvariablen, die die Konfiguration Ihrer wis2box definieren. Weitere Informationen finden Sie in der <a href="https://docs.wis2box.wis.wmo.int/en/latest/reference/configuration.html">wis2box-Dokumentation</a>.</p>
<p>Bearbeiten Sie die Datei <code>wis2box.env</code> nur, wenn Sie sich der Änderungen sicher sind, die Sie vornehmen. Falsche Änderungen können dazu führen, dass Ihre wis2box nicht mehr funktioniert.</p>
<p>Teilen Sie den Inhalt Ihrer <code>wis2box.env</code>-Datei mit niemandem, da sie sensible Informationen wie Passwörter enthält.</p>
</div>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-starten">wis2box starten</h2>
<p>Stellen Sie sicher, dass Sie sich im Verzeichnis befinden, das die Definitionsdateien des wis2box-Softwarepakets enthält:</p>
<div class="highlight"><pre><span></span><code>cd ~/wis2box-1.0.0rc1
</code></pre></div>
<p>Starten Sie wis2box mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py start
</code></pre></div>
<p>Wenn Sie diesen Befehl zum ersten Mal ausführen, sehen Sie die folgende Ausgabe:</p>
<div class="highlight"><pre><span></span><code>No docker-compose.images-*.yml files found, creating one
Current version=Undefined, latest version=1.0.0rc1
Would you like to update ? (y/n/exit)
</code></pre></div>
<p>Wählen Sie <code>y</code> und das Skript erstellt die Datei <code>docker-compose.images-1.0.0rc1.yml</code>, lädt die erforderlichen Docker-Images herunter und startet die Dienste.</p>
<p>Das Herunterladen der Images kann je nach Geschwindigkeit Ihrer Internetverbindung einige Zeit dauern. Dieser Schritt ist nur beim ersten Start von wis2box erforderlich.</p>
<p>Überprüfen Sie den Status mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py status
</code></pre></div>
<p>Wiederholen Sie diesen Befehl, bis alle Dienste aktiv und laufend sind.</p>
<div class="admonition note">
<p class="admonition-title">wis2box und Docker</p>
<p>wis2box läuft als eine Reihe von Docker-Containern, die von docker-compose verwaltet werden.</p>
<p>Die Dienste sind in den verschiedenen <code>docker-compose*.yml</code> definiert, die im Verzeichnis <code>~/wis2box-1.0.0rc1/</code> zu finden sind.</p>
<p>Das Python-Skript <code>wis2box-ctl.py</code> wird verwendet, um die zugrunde liegenden Docker Compose-Befehle auszuführen, die die wis2box-Dienste steuern.</p>
<p>Sie müssen die Details der Docker-Container nicht kennen, um das wis2box-Softwarepaket auszuführen, aber Sie können die <code>docker-compose*.yml</code>-Dateien inspizieren, um zu sehen, wie die Dienste definiert sind. Wenn Sie mehr über Docker erfahren möchten, finden Sie weitere Informationen in der <a href="https://docs.docker.com/">Docker-Dokumentation</a>.</p>
</div>
<p>Um sich beim wis2box-management-Container anzumelden, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py login
</code></pre></div>
<p>Innerhalb des wis2box-management-Containers können Sie verschiedene Befehle ausführen, um Ihre wis2box zu verwalten, wie zum Beispiel:</p>
<ul>
<li><code>wis2box auth add-token --path processes/wis2box</code> : um ein Autorisierungstoken für den Endpunkt <code>processes/wis2box</code> zu erstellen</li>
<li><code>wis2box data clean --days=&lt;Anzahl-der-Tage&gt;</code> : um Daten, die älter als eine bestimmte Anzahl von Tagen sind, aus dem <code>wis2box-public</code>-Bucket zu bereinigen</li>
</ul>
<p>Um den Container zu verlassen und zum Host-Rechner zurückzukehren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>exit
</code></pre></div>
<p>Führen Sie den folgenden Befehl aus, um die auf Ihrem Host-Rechner laufenden Docker-Container anzuzeigen:</p>
<div class="highlight"><pre><span></span><code>docker ps
</code></pre></div>
<p>Sie sollten die folgenden laufenden Container sehen:</p>
<ul>
<li>wis2box-management</li>
<li>wis2box-api</li>
<li>wis2box-minio</li>
<li>wis2box-webapp</li>
<li>wis2box-auth</li>
<li>wis2box-ui</li>
<li>wis2downloader</li>
<li>elasticsearch</li>
<li>elasticsearch-exporter</li>
<li>nginx</li>
<li>mosquitto</li>
<li>prometheus</li>
<li>grafana</li>
<li>loki</li>
</ul>
<p>Diese Container sind Teil des wis2box-Softwarepakets und bieten die verschiedenen Dienste, die zum Betrieb der wis2box erforderlich sind.</p>
<p>Führen Sie den folgenden Befehl aus, um die auf Ihrem Host-Rechner laufenden Docker-Volumes anzuzeigen:</p>
<div class="highlight"><pre><span></span><code>docker volume ls
</code></pre></div>
<p>Sie sollten die folgenden Volumes sehen:</p>
<ul>
<li>wis2box_project_auth-data</li>
<li>wis2box_project_es-data</li>
<li>wis2box_project_htpasswd</li>
<li>wis2box_project_minio-data</li>
<li>wis2box_project_prometheus-data</li>
<li>wis2box_project_loki-data</li>
</ul>
<p>Sowie einige anonyme Volumes, die von den verschiedenen Containern verwendet werden.</p>
<p>Die mit <code>wis2box_project_</code> beginnenden Volumes werden verwendet, um persistente Daten für die verschiedenen Dienste im wis2box-Softwarepaket zu speichern.</p>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-api">wis2box API</h2>
<p>Die wis2box enthält eine API (Application Programming Interface), die Datenzugriff und Prozesse für interaktive Visualisierung, Datentransformation und Veröffentlichung bietet.</p>
<p>Öffnen Sie einen neuen Tab und navigieren Sie zur Seite <code>http://&lt;Ihr-Host&gt;/oapi</code>.</p>
<p><img alt="wis2box-api.png" src="../de/assets/img/wis2box-api.png" width="800"></p>
<p>Dies ist die Startseite der wis2box-API (läuft über den <strong>wis2box-api</strong>-Container).</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Sammlungen sind derzeit verfügbar?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die derzeit über die API verfügbaren Sammlungen anzuzeigen, klicken Sie auf <code>View the collections in this service</code>:</p>
<p><img alt="wis2box-api-collections.png" src="../de/assets/img/wis2box-api-collections.png" width="600"></p>
<p>Die folgenden Sammlungen sind derzeit verfügbar:</p>
<ul>
<li>Stations</li>
<li>Data notifications</li>
<li>Discovery metadata</li>
</ul>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datenbenachrichtigungen wurden veröffentlicht?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Klicken Sie auf "Data notifications" und dann auf <code>Browse through the items of "Data Notifications"</code>. </p>
<p>Sie werden feststellen, dass auf der Seite "No items" steht, da noch keine Datenbenachrichtigungen veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-webapp">wis2box webapp</h2>
<p>Öffnen Sie einen Webbrowser und besuchen Sie die Seite <code>http://&lt;Ihr-Host&gt;/wis2box-webapp</code>.</p>
<p>Sie sehen ein Popup, das nach Ihrem Benutzernamen und Passwort fragt. Verwenden Sie den Standardbenutzernamen <code>wis2box-user</code> und das in der Datei <code>wis2box.env</code> definierte <code>WIS2BOX_WEBAPP_PASSWORD</code> und klicken Sie auf "Sign in":</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Überprüfen Sie Ihre wis2box.env auf den Wert Ihres WIS2BOX_WEBAPP_PASSWORD. Sie können den folgenden Befehl verwenden, um den Wert dieser Umgebungsvariable zu überprüfen:</p>
<div class="highlight"><pre><span></span><code>cat ~/wis2box-1.0.0rc1/wis2box.env | grep WIS2BOX_WEBAPP_PASSWORD
</code></pre></div>
</div>
<p>Nach der Anmeldung bewegen Sie Ihre Maus zum Menü auf der linken Seite, um die in der wis2box-Webanwendung verfügbaren Optionen zu sehen:</p>
<p><img alt="wis2box-webapp-menu.png" src="../de/assets/img/wis2box-webapp-menu.png" width="400"></p>
<p>Dies ist die wis2</p></section><section class="print-page" id="de-practical-sessions-configuring-wis2box-datasets" heading-number="2.4"><h1 id="de-practical-sessions-configuring-wis2box-datasets-konfiguration-von-datensatzen-in-wis2box">Konfiguration von Datensätzen in wis2box</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen neuen Datensatz zu erstellen</li>
<li>Entdeckungsmetadaten für einen Datensatz zu erstellen</li>
<li>Datenzuordnungen für einen Datensatz zu konfigurieren</li>
<li>eine WIS2-Benachrichtigung mit einem WCMP2-Datensatz zu veröffentlichen</li>
<li>Ihren Datensatz zu aktualisieren und erneut zu veröffentlichen</li>
</ul>
</div>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-einfuhrung">Einführung</h2>
<p>wis2box verwendet Datensätze, die mit Entdeckungsmetadaten und Datenzuordnungen verknüpft sind.</p>
<p>Entdeckungsmetadaten werden verwendet, um einen WCMP2-Datensatz (WMO Core Metadata Profile 2) zu erstellen, der über eine WIS2-Benachrichtigung geteilt wird, die auf Ihrem wis2box-Broker veröffentlicht wird.</p>
<p>Die Datenzuordnungen werden verwendet, um ein Daten-Plugin mit Ihren Eingabedaten zu verknüpfen, wodurch Ihre Daten vor der Veröffentlichung über die WIS2-Benachrichtigung transformiert werden können.</p>
<p>In dieser Sitzung werden Sie durch die Erstellung eines neuen Datensatzes, die Erstellung von Entdeckungsmetadaten und die Konfiguration von Datenzuordnungen geführt. Sie werden Ihren Datensatz in der wis2box-API überprüfen und die WIS2-Benachrichtigung für Ihre Entdeckungsmetadaten überprüfen.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-vorbereitung">Vorbereitung</h2>
<p>Verbinden Sie sich mit Ihrem Broker über MQTT Explorer.</p>
<p>Anstatt Ihre internen Broker-Anmeldedaten zu verwenden, nutzen Sie die öffentlichen Anmeldedaten <code>everyone/everyone</code>:</p>
<p><img alt="MQTT Explorer: Connect to broker" src="../de/assets/img/mqtt-explorer-wis2box-broker-everyone-everyone.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie müssen die Anmeldedaten Ihres internen Brokers niemals mit externen Benutzern teilen. Der Benutzer 'everyone' ist ein öffentlicher Benutzer, um das Teilen von WIS2-Benachrichtigungen zu ermöglichen.</p>
<p>Die Anmeldedaten <code>everyone/everyone</code> haben nur Lesezugriff auf das Thema 'origin/a/wis2/#'. Dies ist das Thema, unter dem die WIS2-Benachrichtigungen veröffentlicht werden. Der Global Broker kann sich mit diesen öffentlichen Anmeldedaten anmelden, um die Benachrichtigungen zu empfangen.</p>
<p>Der Benutzer 'everyone' sieht keine internen Themen und kann keine Nachrichten veröffentlichen.</p>
</div>
<p>Öffnen Sie einen Browser und öffnen Sie eine Seite zu <code>http://&lt;your-host&gt;/wis2box-webapp</code>. Stellen Sie sicher, dass Sie angemeldet sind und auf die Seite 'dataset editor' zugreifen können.</p>
<p>Schauen Sie im Abschnitt <a href="#practical-sessions-initializing-wis2box">Initialisierung von wis2box</a> nach, wenn Sie sich nicht erinnern können, wie Sie sich mit dem Broker verbinden oder auf die wis2box-webapp zugreifen können.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-eines-autorisierungstokens-fur-processeswis2box">Erstellen eines Autorisierungstokens für processes/wis2box</h2>
<p>Sie benötigen ein Autorisierungstoken für den Endpunkt 'processes/wis2box', um Ihren Datensatz zu veröffentlichen.</p>
<p>Um ein Autorisierungstoken zu erstellen, greifen Sie über SSH auf Ihre Trainings-VM zu und verwenden Sie die folgenden Befehle, um sich beim wis2box-management-Container anzumelden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Führen Sie dann den folgenden Befehl aus, um ein zufällig generiertes Autorisierungstoken für den Endpunkt 'processes/wis2box' zu erstellen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--path<span class="w"> </span>processes/wis2box
</code></pre></div>
<p>Sie können auch ein Token mit einem bestimmten Wert erstellen, indem Sie das Token als Argument für den Befehl angeben:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--path<span class="w"> </span>processes/wis2box<span class="w"> </span>MyS3cretToken
</code></pre></div>
<p>Stellen Sie sicher, dass Sie den Token-Wert kopieren und auf Ihrem lokalen Computer speichern, da Sie ihn später benötigen werden.</p>
<p>Sobald Sie Ihr Token haben, können Sie den wis2box-management-Container verlassen:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-eines-neuen-datensatzes-in-der-wis2box-webapp">Erstellen eines neuen Datensatzes in der wis2box-webapp</h2>
<p>Navigieren Sie zur Seite 'dataset editor' in der wis2box-webapp Ihrer wis2box-Instanz, indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> gehen und 'dataset editor' aus dem Menü auf der linken Seite auswählen.</p>
<p>Auf der Seite 'dataset editor' klicken Sie unter der Registerkarte 'Datasets' auf "Create New ...":</p>
<p><img alt="Create New Dataset" src="../de/assets/img/wis2box-create-new-dataset.png" width="800"></p>
<p>Ein Popup-Fenster erscheint und fordert Sie auf, Folgendes anzugeben:</p>
<ul>
<li><strong>Centre ID</strong>: Dies ist das Akronym der Agentur (in Kleinbuchstaben und ohne Leerzeichen), wie vom WMO-Mitglied angegeben, das das für die Veröffentlichung der Daten verantwortliche Datenzentrum identifiziert.</li>
<li><strong>Data Type</strong>: Der Typ der Daten, für die Sie Metadaten erstellen. Sie können zwischen der Verwendung einer vordefinierten Vorlage oder der Auswahl von 'other' wählen. Wenn 'other' ausgewählt wird, müssen mehr Felder manuell ausgefüllt werden.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Centre ID</p>
<p>Ihre Centre-ID sollte mit der TLD Ihres Landes beginnen, gefolgt von einem Bindestrich (<code>-</code>) und einem abgekürzten Namen Ihrer Organisation (zum Beispiel <code>fr-meteofrance</code>). Die Centre-ID muss in Kleinbuchstaben sein und nur alphanumerische Zeichen verwenden. Die Dropdown-Liste zeigt alle derzeit bei WIS2 registrierten Centre-IDs sowie alle Centre-IDs, die Sie bereits in wis2box erstellt haben.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Data Type Templates</p>
<p>Das Feld <em>Data Type</em> ermöglicht es Ihnen, aus einer Liste von Vorlagen auszuwählen, die im wis2box-webapp-Datensatzeditor verfügbar sind. Eine Vorlage füllt das Formular mit vorgeschlagenen Standardwerten vor, die für den Datentyp geeignet sind. Dazu gehören vorgeschlagene Titel und Schlüsselwörter für die Metadaten und vorkonfigurierte Daten-Plugins. Das Thema wird auf das Standardthema für den Datentyp festgelegt.</p>
<p>Für das Training verwenden wir den Datentyp <em>weather/surface-based-observations/synop</em>, der Daten-Plugins enthält, die sicherstellen, dass die Daten vor der Veröffentlichung in das BUFR-Format umgewandelt werden.</p>
<p>Wenn Sie CAP-Warnungen mit wis2box veröffentlichen möchten, verwenden Sie die Vorlage <em>weather/advisories-warnings</em>. Diese Vorlage enthält ein Daten-Plugin, das überprüft, ob die Eingabedaten eine gültige CAP-Warnung sind, bevor sie veröffentlicht werden. Um CAP-Warnungen zu erstellen und über wis2box zu veröffentlichen, können Sie <a href="https://github.com/wmo-raf/cap-composer">CAP Composer</a> verwenden.</p>
</div>
<p>Bitte wählen Sie eine für Ihre Organisation geeignete Centre-ID.</p>
<p>Für <strong>Data Type</strong> wählen Sie <strong>weather/surface-based-observations/synop</strong>:</p>
<p><img alt="Create New Dataset Form: Initial information" src="../de/assets/img/wis2box-create-new-dataset-form-initial.png" width="450"></p>
<p>Klicken Sie auf <em>continue to form</em>, um fortzufahren. Ihnen wird nun das <strong>Dataset Editor Form</strong> präsentiert.</p>
<p>Da Sie den Datentyp <strong>weather/surface-based-observations/synop</strong> ausgewählt haben, wird das Formular mit einigen Anfangswerten für diesen Datentyp vorausgefüllt.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-von-entdeckungsmetadaten">Erstellen von Entdeckungsmetadaten</h2>
<p>Mit dem Dataset Editor-Formular können Sie die Entdeckungsmetadaten für Ihren Datensatz bereitstellen, die der wis2box-management-Container zur Veröffentlichung eines WCMP2-Datensatzes verwenden wird.</p>
<p>Da Sie den Datentyp 'weather/surface-based-observations/synop' ausgewählt haben, wird das Formular mit einigen Standardwerten vorausgefüllt.</p>
<p>Bitte ersetzen Sie die automatisch generierte 'Local ID' durch einen beschreibenden Namen für Ihren Datensatz, z.B. 'synop-dataset-wis2training':</p>
<p><img alt="Metadata Editor: title, description, keywords" src="../de/assets/img/wis2box-metadata-editor-part1.png" width="800"></p>
<p>Überprüfen Sie den Titel und die Schlüsselwörter, aktualisieren Sie sie bei Bedarf und geben Sie eine Beschreibung für Ihren Datensatz an.</p>
<p>Beachten Sie, dass es Optionen gibt, die 'WMO Data Policy' von 'core' auf 'recommended' zu ändern oder Ihre Standard-Metadaten-ID zu ändern. Bitte behalten Sie die Datenpolitik als 'core' bei und verwenden Sie die Standard-Metadaten-ID.</p>
<p>Als Nächstes überprüfen Sie den Abschnitt, der Ihre 'Temporal Properties' und 'Spatial Properties' definiert. Sie können den Begrenzungsrahmen anpassen, indem Sie die Felder 'North Latitude', 'South Latitude', 'East Longitude' und 'West Longitude' aktualisieren:</p>
<p><img alt="Metadata Editor: temporal properties, spatial properties" src="../de/assets/img/wis2box-metadata-editor-part2.png" width="800"></p>
<p>Als Nächstes füllen Sie den Abschnitt aus, der die 'Contact Information of the Data Provider' definiert:</p>
<p><img alt="Metadata Editor: contact information" src="../de/assets/img/wis2box-metadata-editor-part3.png" width="800"></p>
<p>Schließlich füllen Sie den Abschnitt aus, der die 'Data Quality Information' definiert:</p>
<p>Sobald Sie alle Abschnitte ausgefüllt haben, klicken Sie auf 'VALIDATE FORM' und überprüfen Sie das Formular auf Fehler:</p>
<p><img alt="Metadata Editor: validation" src="../de/assets/img/wis2box-metadata-validation-error.png" width="800"></p>
<p>Wenn Fehler auftreten, korrigieren Sie diese und klicken Sie erneut auf 'VALIDATE FORM'.</p>
<p>Stellen Sie sicher, dass keine Fehler vorliegen und dass Sie ein Popup erhalten, das anzeigt, dass Ihr Formular validiert wurde:</p>
<p><img alt="Metadata Editor: validation success" src="../de/assets/img/wis2box-metadata-validation-success.png" width="800"></p>
<p>Bevor Sie Ihren Datensatz einreichen, überprüfen Sie als Nächstes die Datenzuordnungen für Ihren Datensatz.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-konfigurieren-von-datenzuordnungen">Konfigurieren von Datenzuordnungen</h2>
<p>Da Sie eine Vorlage zur Erstellung Ihres Datensatzes verwendet haben, wurden die Datensatzzuordnungen mit den Standard-Plugins für den Datentyp 'weather/surface-based-observations/synop' vorausgefüllt. Daten-Plugins werden in der wis2box verwendet, um Daten zu transformieren, bevor sie über die WIS2-Benachrichtigung veröffentlicht werden.</p>
<p><img alt="Data Mappings: update plugin" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Beachten Sie, dass Sie auf die Schaltfläche "update" klicken können, um Einstellungen für das Plugin wie Dateierweiterung und Dateimuster zu ändern. Sie können die Standardeinstellungen vorerst beibehalten. In einer späteren Sitzung erfahren Sie mehr über BUFR und die Transformation von Daten in das BUFR-Format.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-einreichen-ihres-datensatzes">Einreichen Ihres Datensatzes</h2>
<p>Schließlich können Sie auf 'submit' klicken, um Ihren Datensatz zu veröffentlichen.</p>
<p>Sie müssen das Autorisierungstoken für 'processes/wis2box' angeben, das Sie zuvor erstellt haben. Wenn Sie dies noch nicht getan haben, können Sie ein neues Token erstellen, indem Sie den Anweisungen im Vorbereitungsabschnitt folgen.</p>
<p>Überprüfen Sie, ob Sie nach dem Einreichen Ihres Datensatzes die folgende Meldung erhalten, die anzeigt, dass der Datensatz erfolgreich eingereicht wurde:</p>
<p><img alt="Submit Dataset Success" src="../de/assets/img/wis2box-submit-dataset-success.png" width="400"></p>
<p>Nachdem Sie auf 'OK' geklickt haben, werden Sie zur Startseite des Dataset Editors weitergeleitet. Wenn Sie jetzt auf die Registerkarte 'Dataset' klicken, sollten Sie Ihren neuen Datensatz aufgelistet sehen:</p>
<p><img alt="Dataset Editor: new dataset" src="../de/assets/img/wis2box-dataset-editor-new-dataset.png" width="800"></p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-uberprufen-der-wis2-benachrichtigung-fur-ihre-entdeckungsmetadaten">Überprüfen der WIS2-Benachrichtigung für Ihre Entdeckungsmetadaten</h2>
<p>Gehen Sie zu MQTT Explorer. Wenn Sie mit dem Broker verbunden waren, sollten Sie eine neue WIS2-Benachrichtigung sehen, die unter dem Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/metadata</code> veröffentlicht wurde:</p>
<p><img alt="MQTT Explorer: WIS2 notification" src="../de/assets/img/mqtt-explorer-wis2-notification-metadata.png" width="800"></p>
<p>Überprüfen Sie den Inhalt der WIS2-Benachrichtigung, die Sie veröffentlicht haben. Sie sollten ein JSON mit einer Struktur sehen, die dem WIS Notification Message (WNM)-Format entspricht.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Unter welchem Thema wird die WIS2-Benachrichtigung veröffentlicht?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Die WIS2-Benachrichtigung wird unter dem Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/metadata</code> veröffentlicht.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Versuchen Sie, den Titel, die Beschreibung und die Schlüsselwörter, die Sie in den Entdeckungsmetadaten angegeben haben, in der WIS2-Benachrichtigung zu finden. Können Sie sie finden?</p>
</div></section><section class="print-page" id="de-practical-sessions-configuring-station-metadata" heading-number="2.5"><h1 id="de-practical-sessions-configuring-station-metadata-konfiguration-von-stationsmetadaten">Konfiguration von Stationsmetadaten</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen Autorisierungstoken für den <code>collections/stations</code> Endpunkt zu erstellen</li>
<li>Stationsmetadaten zu wis2box hinzuzufügen</li>
<li>Stationsmetadaten mit der <strong>wis2box-webapp</strong> zu aktualisieren/löschen</li>
</ul>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-einfuhrung">Einführung</h2>
<p>Für den internationalen Datenaustausch zwischen WMO-Mitgliedern ist es wichtig, ein gemeinsames Verständnis der Stationen zu haben, die die Daten erzeugen. Das WMO Integrated Global Observing System (WIGOS) bietet einen Rahmen für die Integration von Beobachtungssystemen und Datenmanagementsystemen. Die <strong>WIGOS Station Identifier (WSI)</strong> wird als eindeutige Referenz der Station verwendet, die einen bestimmten Satz von Beobachtungsdaten produziert hat.</p>
<p>wis2box verfügt über eine Sammlung von Stationsmetadaten, die zur Beschreibung der Stationen dient, welche die Beobachtungsdaten erzeugen, und sollte aus <strong>OSCAR/Surface</strong> abgerufen werden. Die Stationsmetadaten in wis2box werden von den BUFR-Transformationstools verwendet, um zu überprüfen, ob die Eingabedaten einen gültigen WIGOS Station Identifier (WSI) enthalten, und um eine Zuordnung zwischen dem WSI und den Stationsmetadaten bereitzustellen.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-erstellen-eines-autorisierungstokens-fur-collectionsstations">Erstellen eines Autorisierungstokens für collections/stations</h2>
<p>Um Stationen über die <strong>wis2box-webapp</strong> zu bearbeiten, müssen Sie zunächst einen Autorisierungstoken erstellen.</p>
<p>Melden Sie sich bei Ihrer Student-VM an und stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
</code></pre></div>
<p>Melden Sie sich dann mit folgendem Befehl beim <strong>wis2box-management</strong> Container an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Innerhalb des <strong>wis2box-management</strong> Containers können Sie einen Autorisierungstoken für einen bestimmten Endpunkt mit dem Befehl erstellen: <code>wis2box auth add-token --path &lt;my-endpoint&gt;</code>.</p>
<p>Um beispielsweise einen zufällig generierten Token für den Endpunkt <code>collections/stations</code> zu verwenden:</p>
<div class="highlight"><pre><span></span><code>wis2box auth add-token --path collections/stations
</code></pre></div>
<p>Die Ausgabe sieht wie folgt aus:</p>
<div class="highlight"><pre><span></span><code>Continue with token: 7ca20386a131f0de384e6ffa288eb1ae385364b3694e47e3b451598c82e899d1 [y/N]? y
Token successfully created
</code></pre></div>
<p>Oder, wenn Sie Ihren eigenen Token für den Endpunkt <code>collections/stations</code> definieren möchten, können Sie das folgende Beispiel verwenden:</p>
<div class="highlight"><pre><span></span><code>wis2box auth add-token --path collections/stations DataIsMagic
</code></pre></div>
<p>Ausgabe:</p>
<div class="highlight"><pre><span></span><code>Continue with token: DataIsMagic [y/N]? y
Token successfully created
</code></pre></div>
<p>Bitte erstellen Sie einen Autorisierungstoken für den Endpunkt <code>collections/stations</code> gemäß den obigen Anweisungen.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-stationsmetadaten-mit-der-wis2box-webapp-hinzufugen">Stationsmetadaten mit der <strong>wis2box-webapp</strong> hinzufügen</h2>
<p>Die <strong>wis2box-webapp</strong> bietet eine grafische Benutzeroberfläche zur Bearbeitung von Stationsmetadaten.</p>
<p>Öffnen Sie die <strong>wis2box-webapp</strong> in Ihrem Browser, indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> navigieren:</p>
<p><img alt="wis2box-webapp" src="../de/assets/img/wis2box-webapp.png" width="800"></p>
<p>Und wählen Sie Stationen:</p>
<p><img alt="wis2box-webapp-select-stations" src="../de/assets/img/wis2box-webapp-select-stations.png" width="250"></p>
<p>Wenn Sie auf "add new station" klicken, werden Sie aufgefordert, die WIGOS-Stationskennung für die Station anzugeben, die Sie hinzufügen möchten:</p>
<p><img alt="wis2box-webapp-import-station-from-oscar" src="../de/assets/img/wis2box-webapp-import-station-from-oscar.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Stationsmetadaten für 3 oder mehr Stationen hinzufügen</p>
<p>Bitte fügen Sie drei oder mehr Stationen zur wis2box-Stationsmetadatensammlung Ihrer wis2box hinzu.</p>
<p>Bitte verwenden Sie wenn möglich Stationen aus Ihrem Land, insbesondere wenn Sie eigene Daten mitgebracht haben.</p>
<p>Wenn Ihr Land keine Stationen in OSCAR/Surface hat, können Sie für diese Übung die folgenden Stationen verwenden:</p>
<ul>
<li>0-20000-0-91334</li>
<li>0-20000-0-96323 (beachten Sie die fehlende Stationshöhe in OSCAR)</li>
<li>0-20000-0-96749 (beachten Sie die fehlende Stationshöhe in OSCAR)</li>
</ul>
</div>
<p>Wenn Sie auf Suchen klicken, werden die Stationsdaten von OSCAR/Surface abgerufen. Bitte beachten Sie, dass dies einige Sekunden dauern kann.</p>
<p>Überprüfen Sie die von OSCAR/Surface zurückgegebenen Daten und ergänzen Sie fehlende Daten, wo erforderlich. Wählen Sie ein Thema für die Station, geben Sie Ihren Autorisierungstoken für den Endpunkt <code>collections/stations</code> ein und klicken Sie auf "save":</p>
<p><img alt="wis2box-webapp-create-station-save" src="../de/assets/img/wis2box-webapp-create-station-save.png" width="800"></p>
<p><img alt="wis2box-webapp-create-station-success" src="../de/assets/img/wis2box-webapp-create-station-success.png" width="500"></p>
<p>Gehen Sie zurück zur Stationsliste und Sie werden die Station sehen, die Sie hinzugefügt haben:</p>
<p><img alt="wis2box-webapp-stations-with-one-station" src="../de/assets/img/wis2box-webapp-stations-with-one-station.png" width="800"></p>
<p>Wiederholen Sie diesen Vorgang, bis Sie mindestens 3 Stationen konfiguriert haben.</p>
<div class="admonition tip">
<p class="admonition-title">Ableitung fehlender Höheninformationen</p>
<p>Wenn die Höhe Ihrer Station fehlt, gibt es Online-Dienste, die bei der Suche nach der Höhe mithilfe offener Höhendaten helfen. Ein Beispiel dafür ist die <a href="https://www.opentopodata.org">Open Topo Data API</a>.</p>
<p>Um beispielsweise die Höhe bei Breitengrad -6.15558 und Längengrad 106.84204 zu erhalten, können Sie die folgende URL in einen neuen Browser-Tab kopieren:</p>
<div class="highlight"><pre><span></span><code>https://api.opentopodata.org/v1/aster30m?locations=-6.15558,106.84204
</code></pre></div>
<p>Ausgabe:</p>
<div class="highlight"><pre><span></span><code>{
  &quot;results&quot;: [
    {
      &quot;dataset&quot;: &quot;aster30m&quot;, 
      &quot;elevation&quot;: 7.0, 
      &quot;location&quot;: {
        &quot;lat&quot;: -6.15558, 
        &quot;lng&quot;: 106.84204
      }
    }
  ], 
  &quot;status&quot;: &quot;OK&quot;
}
</code></pre></div>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-uberprufen-ihrer-stationsmetadaten">Überprüfen Ihrer Stationsmetadaten</h2>
<p>Die Stationsmetadaten werden im Backend von wis2box gespeichert und über die <strong>wis2box-api</strong> verfügbar gemacht.</p>
<p>Wenn Sie einen Browser öffnen und zu <code>http://&lt;your-host&gt;/oapi/collections/stations/items</code> navigieren, sehen Sie die von Ihnen hinzugefügten Stationsmetadaten:</p>
<p><img alt="wis2box-api-stations" src="../de/assets/img/wis2box-api-stations.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Überprüfen Ihrer Stationsmetadaten</p>
<p>Überprüfen Sie, ob die von Ihnen hinzugefügten Stationen Ihrem Datensatz zugeordnet sind, indem Sie in Ihrem Browser <code>http://&lt;your-host&gt;/oapi/collections/stations/items</code> besuchen.</p>
</div>
<p>Sie haben auch die Möglichkeit, die Station in der <strong>wis2box-webapp</strong> anzuzeigen/zu aktualisieren/zu löschen. Beachten Sie, dass Sie Ihren Autorisierungstoken für den Endpunkt <code>collections/stations</code> angeben müssen, um die Station zu aktualisieren/zu löschen.</p>
<div class="admonition note">
<p class="admonition-title">Stationsmetadaten aktualisieren/löschen</p>
<p>Versuchen Sie, die Stationsmetadaten für eine der von Ihnen hinzugefügten Stationen mit der <strong>wis2box-webapp</strong> zu aktualisieren/zu löschen.</p>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-massenupload-von-stationsmetadaten">Massenupload von Stationsmetadaten</h2>
<p>Beachten Sie, dass wis2box auch die Möglichkeit bietet, Stationsmetadaten "in Masse" aus einer CSV-Datei über die Kommandozeile im <strong>wis2box-management</strong> Container zu laden.</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
wis2box<span class="w"> </span>metadata<span class="w"> </span>station<span class="w"> </span>publish-collection<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/metadata/station/station_list.csv<span class="w"> </span>-th<span class="w"> </span>origin/a/wis2/centre-id/weather/surface-based-observations/synop
</code></pre></div>
<p>Dadurch können Sie eine große Anzahl von Stationen auf einmal hochladen und sie einem bestimmten Thema zuordnen.</p>
<p>Sie können die CSV-Datei mit Excel oder einem Texteditor erstellen und dann in wis2box-host-datadir hochladen, um sie dem <strong>wis2box-management</strong> Container im Verzeichnis <code>/data/wis2box/</code> zur Verfügung zu stellen.</p>
<p>Nach einem Massenupload von Stationen wird empfohlen, die Stationen in der <strong>wis2box-webapp</strong> zu überprüfen, um sicherzustellen, dass die Daten korrekt hochgeladen wurden.</p>
<p>Weitere Informationen zur Verwendung dieser Funktion finden Sie in der offiziellen <a href="https://docs.wis2box.wis.wmo.int">wis2box-Dokumentation</a>.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>einen Autorisierungstoken für den Endpunkt <code>collections/stations</code> erstellt, der mit der <strong>wis2box-webapp</strong> verwendet werden kann</li>
<li>Stationsmetadaten mit der <strong>wis2box-webapp</strong> zu wis2box hinzufügt</li>
<li>Stationsmetadaten mit der <strong>wis2box-webapp</strong> anzeigt/aktualisiert/löscht</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-monitoring-wis2-notifications" heading-number="2.6"><h1 id="de-practical-sessions-monitoring-wis2-notifications-uberwachung-von-wis2-benachrichtigungen">Überwachung von WIS2-Benachrichtigungen</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>den wis2box-Workflow durch Hochladen von Daten in MinIO mit dem Befehl <code>wis2box data ingest</code> auszulösen</li>
<li>Warnungen und Fehler im Grafana-Dashboard anzuzeigen</li>
<li>den Inhalt der veröffentlichten Daten zu überprüfen</li>
</ul>
</div>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-einfuhrung">Einführung</h2>
<p>Das <strong>Grafana-Dashboard</strong> verwendet Daten von Prometheus und Loki, um den Status Ihrer wis2box anzuzeigen. Prometheus speichert Zeitreihendaten aus den gesammelten Metriken, während Loki die Protokolle der Container speichert, die auf Ihrer wis2box-Instanz laufen. Diese Daten ermöglichen es Ihnen zu überprüfen, wie viele Daten in MinIO empfangen werden und wie viele WIS2-Benachrichtigungen veröffentlicht werden, sowie ob Fehler in den Protokollen erkannt wurden.</p>
<p>Um den Inhalt der WIS2-Benachrichtigungen zu sehen, die zu verschiedenen Themen Ihrer wis2box veröffentlicht werden, können Sie den Tab 'Monitor' in der <strong>wis2box-Webapp</strong> verwenden.</p>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-vorbereitung">Vorbereitung</h2>
<p>In diesem Abschnitt wird der Datensatz "surface-based-observations/synop" verwendet, der zuvor in der praktischen Sitzung <a href="#practical-sessions-configuring-wis2box-datasets">Konfigurieren von Datensätzen in wis2box</a> erstellt wurde.</p>
<p>Melden Sie sich mit Ihrem SSH-Client (PuTTY oder einem anderen) an Ihrer Student-VM an.</p>
<p>Stellen Sie sicher, dass wis2box läuft:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1/
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<p>Stellen Sie sicher, dass Sie MQTT Explorer ausführen und mit Ihrer Instanz verbunden sind, indem Sie die öffentlichen Anmeldedaten <code>everyone/everyone</code> mit einem Abonnement für das Thema <code>origin/a/wis2/#</code> verwenden.</p>
<p>Stellen Sie sicher, dass Sie Zugriff auf die MinIO-Weboberfläche haben, indem Sie zu <code>http://&lt;your-host&gt;:9000</code> gehen und angemeldet sind (mit <code>WIS2BOX_STORAGE_USERNAME</code> und <code>WIS2BOX_STORAGE_PASSWORD</code> aus Ihrer <code>wis2box.env</code>-Datei).</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit dem Grafana-Dashboard für Ihre Instanz geöffnet haben, indem Sie zu <code>http://&lt;your-host&gt;:3000</code> gehen.</p>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-daten-einlesen">Daten einlesen</h2>
<p>Bitte führen Sie die folgenden Befehle von Ihrer SSH-Client-Sitzung aus:</p>
<p>Kopieren Sie die Beispieldatei <code>aws-example.csv</code> in das Verzeichnis, das Sie als <code>WI2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code>-Datei definiert haben.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/monitoring-exercises/aws-example.csv<span class="w"> </span>~/wis2box-data/
</code></pre></div>
<p>Stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden und melden Sie sich am Container <strong>wis2box-management</strong> an:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Überprüfen Sie, ob die Beispieldaten im Verzeichnis <code>/data/wis2box/</code> innerhalb des Containers <strong>wis2box-management</strong> verfügbar sind:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-lh<span class="w"> </span>/data/wis2box/aws-example.csv
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das <code>WIS2BOX_HOST_DATADIR</code> wird als <code>/data/wis2box/</code> innerhalb des wis2box-management-Containers durch die Datei <code>docker-compose.yml</code> im Verzeichnis <code>wis2box-1.0.0rc1</code> eingebunden.</p>
<p>Dies ermöglicht den Datenaustausch zwischen dem Host und dem Container.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Übung 1: Daten mit <code>wis2box data ingest</code> einlesen</p>
<p>Führen Sie den folgenden Befehl aus, um die Beispieldatei <code>aws-example.csv</code> in Ihre wis2box-Instanz einzulesen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/aws-example.csv<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop
</code></pre></div>
<p>Wurden die Daten erfolgreich eingelesen? Falls nicht, was war die Fehlermeldung und wie können Sie sie beheben?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Sie werden folgende Ausgabe sehen:</p>
<div class="highlight"><pre><span></span><code>Error:<span class="w"> </span><span class="nv">metadata_id</span><span class="o">=</span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop<span class="w"> </span>not<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span>data<span class="w"> </span>mappings
</code></pre></div>
<p>Die Fehlermeldung zeigt an, dass die von Ihnen angegebene Metadaten-ID mit keinem der Datensätze übereinstimmt, die Sie in Ihrer wis2box-Instanz konfiguriert haben.</p>
<p>Geben Sie die richtige Metadaten-ID an, die mit dem Datensatz übereinstimmt, den Sie in der vorherigen praktischen Sitzung erstellt haben, und wiederholen Sie den Befehl zum Einlesen der Daten, bis Sie folgende Ausgabe sehen sollten:</p>
<div class="highlight"><pre><span></span><code>Processing<span class="w"> </span>/data/wis2box/aws-example.csv
Done
</code></pre></div>
</details>
<p>Gehen Sie zur MinIO-Konsole in Ihrem Browser und überprüfen Sie, ob die Datei <code>aws-example.csv</code> in den Bucket <code>wis2box-incoming</code> hochgeladen wurde. Sie sollten sehen, dass es ein neues Verzeichnis mit dem Namen des Datensatzes gibt, den Sie in der Option <code>--metadata-id</code> angegeben haben:</p>
<p><img alt="minio-wis2box-incoming-dataset-folder" src="../de/assets/img/minio-wis2box-incoming-dataset-folder.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der Befehl <code>wis2box data ingest</code> hat die Datei in den Bucket <code>wis2box-incoming</code> in MinIO in ein Verzeichnis hochgeladen, das nach der von Ihnen angegebenen Metadaten-ID benannt ist.</p>
</div>
<p>Gehen Sie zum Grafana-Dashboard in Ihrem Browser und überprüfen Sie den Status des Datenimports.</p>
<div class="admonition question">
<p class="admonition-title">Übung 2: Überprüfen des Status des Datenimports</p>
<p>Gehen Sie zum Grafana-Dashboard in Ihrem Browser und überprüfen Sie den Status des Datenimports.</p>
<p>Wurden die Daten erfolgreich importiert?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Das Panel am unteren Rand des Grafana-Hauptdashboards meldet folgende Warnungen:    </p>
<p><code>WARNING - input=aws-example.csv warning=Station 0-20000-0-60355 not in station list; skipping</code>
<code>WARNING - input=aws-example.csv warning=Station 0-20000-0-60360 not in station list; skipping</code></p>
<p>Diese Warnung zeigt an, dass die Stationen nicht in der Stationsliste Ihrer wis2box definiert sind. Für diese Station werden keine WIS2-Benachrichtigungen veröffentlicht, bis Sie sie zur Stationsliste hinzufügen und mit dem Thema für Ihren Datensatz verknüpfen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Übung 3: Teststationen hinzufügen und Datenimport wiederholen</p>
<p>Fügen Sie die Stationen zu Ihrer wis2box hinzu, indem Sie den Stationseditor in <strong>wis2box-webapp</strong> verwenden, und verknüpfen Sie die Stationen mit dem Thema für Ihren Datensatz.</p>
<p>Laden Sie nun die Beispieldatei <code>aws-example.csv</code> erneut in denselben Pfad in MinIO hoch, den Sie in der vorherigen Übung verwendet haben.</p>
<p>Überprüfen Sie das Grafana-Dashboard. Gibt es neue Fehler oder Warnungen? Wie können Sie sehen, dass die Testdaten erfolgreich importiert und veröffentlicht wurden?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Sie können die Diagramme im Grafana-Hauptdashboard überprüfen, um zu sehen, ob die Testdaten erfolgreich importiert und veröffentlicht wurden.</p>
<p>Bei Erfolg sollten Sie Folgendes sehen:</p>
<p><img alt="grafana_success" src="../de/assets/img/grafana_success.png" width="800"></p>
</details>
<div class="admonition question">
<p class="admonition-title">Übung 4: MQTT-Broker auf WIS2-Benachrichtigungen überprüfen</p>
<p>Gehen Sie zum MQTT Explorer und überprüfen Sie, ob Sie die WIS2-Benachrichtigungsnachricht für die Daten sehen können, die Sie gerade importiert haben.</p>
<p>Wie viele WIS2-Datenbenachrichtigungen wurden von Ihrer wis2box veröffentlicht?</p>
<p>Wie greifen Sie auf den Inhalt der veröffentlichten Daten zu?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Sie sollten 6 WIS2-Datenbenachrichtigungen sehen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Um auf den Inhalt der veröffentlichten Daten zuzugreifen, können Sie die Themenstruktur erweitern, um die verschiedenen Ebenen der Nachricht zu sehen, bis Sie die letzte Ebene erreichen und den Nachrichteninhalt einer der Nachrichten überprüfen.</p>
<p>Der Nachrichteninhalt hat einen Abschnitt "links" mit einem Schlüssel "rel" von "canonical" und einem Schlüssel "href" mit der URL zum Herunterladen der Daten. Die URL hat das Format <code>http://&lt;your-host&gt;/data/...</code>. </p>
<p>Beachten Sie, dass das Datenformat BUFR ist und Sie einen BUFR-Parser benötigen, um den Inhalt der Daten anzuzeigen. Das BUFR-Format ist ein binäres Format, das von meteorologischen Diensten zum Datenaustausch verwendet wird. Die Daten-Plugins innerhalb von wis2box haben die Daten von CSV nach BUFR umgewandelt, bevor sie veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-anzeigen-des-inhalts-der-veroffentlichten-daten">Anzeigen des Inhalts der veröffentlichten Daten</h2>
<p>Sie können die <strong>wis2box-webapp</strong> verwenden, um den Inhalt der WIS2-Datenbenachrichtigungen anzuzeigen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Öffnen Sie die <strong>wis2box-webapp</strong> in Ihrem Browser, indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> navigieren und wählen Sie den Tab <strong>Monitoring</strong>:</p>
<p><img alt="wis2box-webapp-monitor" src="../de/assets/img/wis2box-webapp-monitor.png" width="220"></p>
<p>Wählen Sie im Monitoring-Tab Ihre Datensatz-ID aus und klicken Sie auf "UPDATE"</p>
<details class="question">
<summary>Übung 5: WIS2-Benachrichtigungen in der wis2box-webapp anzeigen</summary>
<p>Wie viele WIS2-Datenbenachrichtigungen wurden von Ihrer wis2box veröffentlicht? </p>
<p>Wie hoch ist die in der letzten Benachrichtigung gemeldete Lufttemperatur an der Station mit der WIGOS-Kennung=0-20000-0-60355?</p>
</details>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Wenn Sie die Testdaten erfolgreich importiert haben, sollten Sie 6 WIS2-Datenbenachrichtigungen sehen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Um die gemessene Lufttemperatur für die Station mit der WIGOS-Kennung=0-20000-0-60355 zu sehen, klicken Sie auf die Schaltfläche "INSPECT" neben der Datei für diese Station, um ein Popup-Fenster zu öffnen, das den geparsten Inhalt der Datendatei anzeigt. Die an dieser Station gemessene Lufttemperatur betrug 25,0 Grad Celsius.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der wis2box-api-Container enthält Tools zum Parsen von BUFR-Dateien und zum Anzeigen des Inhalts in einem für Menschen lesbaren Format. Dies ist keine Kernanforderung für die WIS2.0-Implementierung, wurde aber in die wis2box aufgenommen, um Datenpublizierern bei der Überprüfung des Inhalts der von ihnen veröffentlichten Daten zu helfen.</p>
</div>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>den wis2box-Workflow durch Hochladen von Daten in MinIO mit dem Befehl <code>wis2box data ingest</code> auslöst</li>
<li>die von Ihrer wis2box veröffentlichten WIS2-Benachrichtigungen im Grafana-Dashboard und MQTT Explorer anzeigt</li>
<li>den Inhalt der veröffentlichten Daten mit der <strong>wis2box-webapp</strong> überprüft</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-converting-synop-data-to-bufr" heading-number="2.7"><h1 id="de-practical-sessions-converting-synop-data-to-bufr-konvertierung-von-synop-daten-zu-bufr-uber-die-kommandozeile">Konvertierung von SYNOP-Daten zu BUFR über die Kommandozeile</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Übung werden Sie in der Lage sein:</p>
<ul>
<li>das synop2bufr-Tool zu verwenden, um FM-12 SYNOP-Berichte in BUFR zu konvertieren;</li>
<li>einfache Kodierungsfehler in FM-12 SYNOP-Berichten vor der Formatkonvertierung zu diagnostizieren und zu beheben;</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-einfuhrung">Einführung</h2>
<p>Wettermeldungen von Landstationen wurden historisch stündlich oder zu den Haupt- 
(00, 06, 12 und 18 UTC) und Zwischen-Synoptikzeiten (03, 09, 15, 21 UTC) gemeldet. Vor der Migration
zu BUFR wurden diese Berichte im Klartext-Format FM-12 SYNOP kodiert. Obwohl die Migration zu BUFR
bis 2012 abgeschlossen sein sollte, wird eine große Anzahl von Berichten immer noch im älteren 
FM-12 SYNOP-Format ausgetauscht. Weitere Informationen zum FM-12 SYNOP-Format finden Sie im WMO-Handbuch für Codes, 
Band I.1 (WMO-Nr. 306, Band I.1).</p>
<p><a href="https://library.wmo.int/records/item/35713-manual-on-codes-international-codes-volume-i-1">WMO-Handbuch für Codes, Band I.1</a></p>
<p>Um die Migration zu BUFR zu unterstützen, wurden einige Tools zur
Kodierung von FM-12 SYNOP-Berichten in BUFR entwickelt. In dieser Sitzung lernen Sie, wie Sie diese Tools verwenden können, sowie
die Beziehung zwischen den Informationen in den FM-12 SYNOP-Berichten und BUFR-Nachrichten.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-vorbereitung">Vorbereitung</h2>
<div class="admonition warning">
<p class="admonition-title">Voraussetzungen</p>
<ul>
<li>Stellen Sie sicher, dass Ihre wis2box konfiguriert und gestartet wurde.</li>
<li>Bestätigen Sie den Status, indem Sie die wis2box-API besuchen (<code>http://&lt;Ihr-Host-Name&gt;/oapi</code>) und überprüfen, dass die API läuft.</li>
<li>Lesen Sie unbedingt die Abschnitte <strong>synop2bufr-Grundlagen</strong> und <strong>ecCodes-Grundlagen</strong>, bevor Sie mit den Übungen beginnen.</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-synop2bufr-grundlagen">synop2bufr-Grundlagen</h2>
<p>Hier sind wichtige <code>synop2bufr</code>-Befehle und Konfigurationen:</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-transform">transform</h3>
<p>Die Funktion <code>transform</code> konvertiert eine SYNOP-Nachricht in BUFR:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>meine_datei.csv<span class="w"> </span>--output-dir<span class="w"> </span>./mein_verzeichnis<span class="w"> </span>--year<span class="w"> </span>nachricht_jahr<span class="w"> </span>--month<span class="w"> </span>nachricht_monat<span class="w"> </span>meine_SYNOP.txt
</code></pre></div>
<p>Beachten Sie, dass wenn die Optionen für Metadaten, Ausgabeverzeichnis, Jahr und Monat nicht angegeben werden, diese ihre Standardwerte annehmen:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Standard</th>
</tr>
</thead>
<tbody>
<tr>
<td>--metadata</td>
<td>station_list.csv</td>
</tr>
<tr>
<td>--output-dir</td>
<td>Das aktuelle Arbeitsverzeichnis.</td>
</tr>
<tr>
<td>--year</td>
<td>Das aktuelle Jahr.</td>
</tr>
<tr>
<td>--month</td>
<td>Der aktuelle Monat.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bei Verwendung des Standard-Jahres und -Monats ist Vorsicht geboten, da der im Bericht angegebene Tag des Monats möglicherweise nicht übereinstimmt (z.B. hat der Juni keine 31 Tage).</p>
</div>
<p>In den Beispielen werden Jahr und Monat nicht angegeben, Sie können also entweder selbst ein Datum festlegen oder die Standardwerte verwenden.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-eccodes-grundlagen">ecCodes-Grundlagen</h2>
<p>ecCodes bietet sowohl Kommandozeilentools als auch die Möglichkeit, in Ihre eigenen Anwendungen eingebettet zu werden. Im Folgenden finden Sie einige nützliche Kommandozeilen-Dienstprogramme für die Arbeit mit BUFR-Daten.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-bufr_dump">bufr_dump</h3>
<p>Der Befehl <code>bufr_dump</code> ist ein allgemeines BUFR-Informationstool. Es hat viele Optionen, aber die folgenden werden für die Übungen am nützlichsten sein:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>mein_bufr.bufr4
</code></pre></div>
<p>Dies zeigt den BUFR-Inhalt auf Ihrem Bildschirm an. Wenn Sie sich für die Werte einer bestimmten Variable interessieren, verwenden Sie den Befehl <code>egrep</code>:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>mein_bufr.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span>temperature
</code></pre></div>
<p>Dies zeigt Variablen im Zusammenhang mit Temperatur in Ihren BUFR-Daten an. Wenn Sie dies für mehrere Arten von Variablen tun möchten, filtern Sie die Ausgabe mit einer Pipe (<code>|</code>):</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>mein_bufr.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature|wind&#39;</span>
</code></pre></div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-konvertierung-von-fm-12-synop-zu-bufr-mit-synop2bufr-uber-die-kommandozeile">Konvertierung von FM-12 SYNOP zu BUFR mit synop2bufr über die Kommandozeile</h2>
<p>Die eccodes-Bibliothek und das synop2bufr-Modul sind im wis2box-api-Container installiert. Um die nächsten Übungen durchzuführen, kopieren wir das Verzeichnis synop2bufr-exercises in den wis2box-api-Container und führen die Übungen von dort aus durch.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>cp<span class="w"> </span>~/exercise-materials/synop2bufr-exercises<span class="w"> </span>wis2box-api:/root
</code></pre></div>
<p>Jetzt können wir den Container betreten und die Übungen ausführen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>wis2box-api<span class="w"> </span>/bin/bash
</code></pre></div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-1">Übung 1</h3>
<p>Navigieren Sie zum Verzeichnis <code>/root/synop2bufr-exercises/ex_1</code> und untersuchen Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_1
more<span class="w"> </span>message.txt
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele SYNOP-Berichte sind in dieser Datei enthalten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es gibt 1 SYNOP-Bericht, da es nur 1 Trennzeichen (=) am Ende der Nachricht gibt.</p>
</details>
<p>Untersuchen Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen sind in der Stationsliste aufgeführt?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es gibt 1 Station, die station_list.csv enthält eine Zeile mit Stationsmetadaten.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Versuchen Sie, <code>message.txt</code> in das BUFR-Format zu konvertieren.</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Siehe den Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-synop2bufr-grundlagen">synop2bufr-Grundlagen</a>.</p>
</div>
<p>Untersuchen Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Finden Sie heraus, wie Sie die Breiten- und Längengradwerte mit denen in der Stationsliste vergleichen können.</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die Breiten- und Längengradwerte in den BUFR-Daten mit denen in der Stationsliste zu vergleichen, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15015_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;latitude|longitude&#39;</span>
</code></pre></div>
<p>Dies zeigt die Breiten- und Längengradwerte in den BUFR-Daten an.</p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Siehe den Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-eccodes-grundlagen">ecCodes-Grundlagen</a>.</p>
</div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-2">Übung 2</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_2</code> und untersuchen Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_2
more<span class="w"> </span>message.txt
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele SYNOP-Berichte sind in dieser Datei enthalten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es gibt 3 SYNOP-Berichte, da es 3 Trennzeichen (=) am Ende der Nachricht gibt.</p>
</details>
<p>Untersuchen Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen sind in der Stationsliste aufgeführt?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es gibt 3 Stationen, die station_list.csv enthält drei Zeilen mit Stationsmetadaten.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Konvertieren Sie <code>message.txt</code> in das BUFR-Format.</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie würden Sie basierend auf den Ergebnissen der Übungen in dieser und der vorherigen Übung die Anzahl der
resultierenden BUFR-Dateien anhand der Anzahl der SYNOP-Berichte und der in der Stationsmetadatendatei aufgeführten Stationen vorhersagen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die erzeugten BUFR-Dateien zu sehen, führen Sie den folgenden Befehl aus:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>*.bufr4
</code></pre></div>
<p>Die Anzahl der erzeugten BUFR-Dateien entspricht der Anzahl der SYNOP-Berichte in der Nachrichtendatei.</p>
</details>
<p>Untersuchen Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können Sie die in den BUFR-Daten jeder erzeugten Datei kodierte WIGOS-Stations-ID überprüfen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Dies kann mit den folgenden Befehlen erfolgen:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15015_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15020_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15090_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<p>Beachten Sie, dass Sie, wenn Sie ein Verzeichnis mit nur diesen 3 BUFR-Dateien haben, Linux-Platzhalter wie folgt verwenden können:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>*.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
</details>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-3">Übung 3</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_3</code> und untersuchen Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_3
more<span class="w"> </span>message.txt
</code></pre></div>
<p>Diese SYNOP-Nachricht enthält nur einen längeren Bericht mit mehr Abschnitten.</p>
<p>Untersuchen Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Ist es problematisch, dass diese Datei mehr Stationen enthält als Berichte in der SYNOP-Nachricht?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Nein, das ist kein Problem, solange es in der Stationslistendatei eine Zeile mit einer Stations-TSI gibt, die mit der des SYNOP-Berichts übereinstimmt, den wir konvertieren möchten.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die Stationslistendatei ist eine Metadatenquelle für <code>synop2bufr</code>, um die Informationen bereitzustellen, die im alphanumerischen SYNOP-Bericht fehlen und im BUFR SYNOP erforderlich sind.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Konvertieren Sie <code>message.txt</code> in das BUFR-Format.</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Dies erfolgt mit dem Befehl <code>transform</code>, zum Beispiel:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<p>Untersuchen Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Finden Sie die folgenden Variablen:</p>
<ul>
<li>Lufttemperatur (K) des Berichts</li>
<li>Gesamtbewölkung (%) des Berichts</li>
<li>Gesamtdauer des Sonnenscheins (Minuten) des Berichts</li>
<li>Windgeschwindigkeit (m/s) des Berichts</li>
</ul>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Um die Variablen nach Schlüsselwort in den BUFR-Daten zu finden, können Sie die folgenden Befehle verwenden:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15260_20240921T115500.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature&#39;</span>
</code></pre></div>
<p>Sie können den folgenden Befehl verwenden, um nach mehreren Schlüsselwörtern zu suchen:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15260_20240921T115500.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature|cover|sunshine|wind&#39;</span>
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Der letzte Befehl im Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-eccodes-grundlagen">ecCodes-Grundlagen</a> könnte nützlich sein.</p>
</div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-4">Übung 4</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_4</code> und untersuchen Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_4
more<span class="w"> </span>message_incorrect.txt
</code></pre></div>
<p>!!!</p></section><section class="print-page" id="de-practical-sessions-converting-synop-data-to-bufr-form" heading-number="2.8"><h1 id="de-practical-sessions-converting-synop-data-to-bufr-form-konvertierung-von-synop-daten-zu-bufr-mit-der-wis2box-webapp">Konvertierung von SYNOP-Daten zu BUFR mit der wis2box-Webapp</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>gültige FM-12 SYNOP-Bulletins über die wis2box-Webanwendung zur Konvertierung in BUFR und zum Austausch über das WIS2.0 einzureichen</li>
<li>einfache Kodierungsfehler in einem FM-12 SYNOP-Bulletin vor der Formatkonvertierung und dem Austausch zu validieren, zu diagnostizieren und zu beheben</li>
<li>sicherzustellen, dass die erforderlichen Stationsmetadaten in der wis2box verfügbar sind</li>
<li>erfolgreich konvertierte Bulletins zu bestätigen und zu inspizieren</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-einfuhrung">Einführung</h2>
<p>Um manuellen Beobachtern die direkte Übermittlung von Daten an das WIS2.0 zu ermöglichen, bietet die wis2box-Webapp ein Formular zur Konvertierung von FM-12 SYNOP-Bulletins in BUFR. Das Formular ermöglicht es Benutzern auch, einfache Kodierungsfehler im FM-12 SYNOP-Bulletin vor der Formatkonvertierung und dem Austausch zu diagnostizieren und zu beheben sowie die resultierenden BUFR-Daten zu inspizieren.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-vorbereitung">Vorbereitung</h2>
<div class="admonition warning">
<p class="admonition-title">Voraussetzungen</p>
<ul>
<li>Stellen Sie sicher, dass Ihre wis2box konfiguriert und gestartet wurde.</li>
<li>Öffnen Sie ein Terminal und verbinden Sie sich über SSH mit Ihrer Student-VM.</li>
<li>Verbinden Sie sich mit dem MQTT-Broker Ihrer wis2box-Instanz über MQTT Explorer.</li>
<li>Öffnen Sie die wis2box-Webanwendung (<code>http://&lt;Ihr-Host-Name&gt;/wis2box-webapp</code>) und stellen Sie sicher, dass Sie angemeldet sind.</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-verwendung-der-wis2box-webapp-zur-konvertierung-von-fm-12-synop-zu-bufr">Verwendung der wis2box-Webapp zur Konvertierung von FM-12 SYNOP zu BUFR</h2>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-1-verwendung-der-wis2box-webapp-zur-konvertierung-von-fm-12-synop-zu-bufr">Übung 1 - Verwendung der wis2box-Webapp zur Konvertierung von FM-12 SYNOP zu BUFR</h3>
<p>Stellen Sie sicher, dass Sie das Auth-Token für "processes/wis2box" haben, das Sie in der vorherigen Übung generiert haben, und dass Sie mit Ihrem wis2box-Broker in MQTT Explorer verbunden sind.</p>
<p>Kopieren Sie die folgende Nachricht:</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001=
</code></pre></div>
<p>Öffnen Sie die wis2box-Webanwendung und navigieren Sie zur synop2bufr-Seite über die linke Navigationsleiste und fahren Sie wie folgt fort:</p>
<ul>
<li>Fügen Sie den kopierten Inhalt in das Texteingabefeld ein.</li>
<li>Wählen Sie Monat und Jahr über den Datumsauswähler, nehmen Sie für diese Übung den aktuellen Monat an.</li>
<li>Wählen Sie ein Thema aus dem Dropdown-Menü (die Optionen basieren auf den in der wis2box konfigurierten Datensätzen).</li>
<li>Geben Sie das "processes/wis2box" Auth-Token ein, das Sie zuvor generiert haben</li>
<li>Stellen Sie sicher, dass "Publish on WIS2" eingeschaltet ist</li>
<li>Klicken Sie auf "SUBMIT"</li>
</ul>
<p><center><img alt="Dialog showing synop2bufr page, including toggle button" src="../de/assets/img/synop2bufr-toggle.png"></center></p>
<p>Klicken Sie auf Absenden. Sie erhalten eine Warnmeldung, da die Station nicht in der wis2box registriert ist. Gehen Sie zum Station-Editor und importieren Sie die folgende Station:</p>
<div class="highlight"><pre><span></span><code>0-20000-0-15015
</code></pre></div>
<p>Stellen Sie sicher, dass die Station mit dem Thema verknüpft ist, das Sie im vorherigen Schritt ausgewählt haben, und kehren Sie dann zur synop2bufr-Seite zurück und wiederholen Sie den Vorgang mit denselben Daten wie zuvor.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können Sie das Ergebnis der Konvertierung von FM-12 SYNOP zu BUFR sehen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der Ergebnisbereich der Seite zeigt Warnungen, Fehler und Output-BUFR-Dateien an.</p>
<p>Klicken Sie auf "Output BUFR files", um eine Liste der generierten Dateien zu sehen. Sie sollten eine Datei aufgelistet sehen.</p>
<p>Mit der Download-Schaltfläche können die BUFR-Daten direkt auf Ihren Computer heruntergeladen werden.</p>
<p>Die Inspect-Schaltfläche führt einen Prozess aus, um die Daten aus BUFR zu konvertieren und zu extrahieren.</p>
<p><center><img alt="Dialog showing result of successfully submitting a message"
     src="../de/assets/img/synop2bufr-ex2-success.png"></center></p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Die FM-12 SYNOP-Eingabedaten enthielten nicht den Standort der Station, die Höhe oder die Barometerhöhe. 
Bestätigen Sie, dass diese in den BUFR-Ausgabedaten enthalten sind. Woher stammen diese?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Wenn Sie auf die Schaltfläche "Inspect" klicken, sollte ein Dialog wie unten gezeigt erscheinen.</p>
<p><center><img alt="Results of the inspect button showing the basic station metadata, the station location and the observed properties"
     src="../de/assets/img/synop2bufr-ex2.png"></center></p>
<p>Dies umfasst den auf einer Karte angezeigten Standort der Station und grundlegende Metadaten sowie die Beobachtungen in der Nachricht.</p>
<p>Als Teil der Transformation von FM-12 SYNOP zu BUFR wurden der BUFR-Datei zusätzliche Metadaten hinzugefügt.</p>
<p>Die BUFR-Datei kann auch durch Herunterladen der Datei und Validieren mit einem Tool wie dem ECMWF ecCodes BUFR-Validator inspiziert werden.</p>
</details>
<p>Gehen Sie zu MQTT Explorer und überprüfen Sie das WIS2-Benachrichtigungsthema, um die veröffentlichten WIS2-Benachrichtigungen zu sehen.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-2-verstandnis-der-stationsliste">Übung 2 - Verständnis der Stationsliste</h3>
<p>Für diese nächste Übung werden Sie eine Datei mit mehreren Berichten konvertieren, siehe die Daten unten:</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001=
15020 02997 23104 10130 21075 30177 40377 58020 60001 81041=
15090 02997 53102 10139 21075 30271 40364 58031 60001 82046=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Basierend auf der vorherigen Übung, schauen Sie sich die FM-12 SYNOP-Nachricht an und prognostizieren Sie, wie viele BUFR-Ausgabenachrichten generiert werden. </p>
<p>Kopieren Sie nun diese Nachricht in das SYNOP-Formular und senden Sie die Daten ab.</p>
<p>Entsprach die Anzahl der generierten Nachrichten Ihrer Erwartung und wenn nicht, warum nicht?</p>
</div>
<details class="warning">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Sie hätten erwarten können, dass drei BUFR-Nachrichten generiert werden, eine für jeden Wetterbericht. Stattdessen haben Sie jedoch 2 Warnungen und nur eine BUFR-Datei erhalten.</p>
<p>Damit ein Wetterbericht in BUFR konvertiert werden kann, sind die in der Stationsliste enthaltenen grundlegenden Metadaten erforderlich. Obwohl das obige Beispiel drei Wetterberichte enthält, waren zwei der drei meldenden Stationen nicht in Ihrer wis2box registriert. </p>
<p>Infolgedessen führte nur einer der drei Wetterberichte zur Generierung einer BUFR-Datei und zur Veröffentlichung einer WIS2-Benachrichtigung. Die anderen beiden Wetterberichte wurden ignoriert und es wurden Warnungen generiert.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Beachten Sie die Beziehung zwischen der WIGOS-Kennung und der traditionellen Stationskennung, die in der BUFR-Ausgabe enthalten ist. In vielen Fällen wird für Stationen, die zum Zeitpunkt der Migration zu WIGOS-Stationskennungen in WMO-Nr. 9 Band A aufgeführt sind, die WIGOS-Stationskennung durch die traditionelle Stationskennung mit vorangestelltem <code>0-20000-0</code> angegeben, z.B. aus <code>15015</code> wurde <code>0-20000-0-15015</code>.</p>
</div>
<p>Importieren Sie über die Stationslistenseite die folgenden Stationen:</p>
<div class="highlight"><pre><span></span><code>0-20000-0-15020
0-20000-0-15090
</code></pre></div>
<p>Stellen Sie sicher, dass die Stationen mit dem Thema verknüpft sind, das Sie in der vorherigen Übung ausgewählt haben, und kehren Sie dann zur synop2bufr-Seite zurück und wiederholen Sie den Vorgang.</p>
<p>Jetzt sollten drei BUFR-Dateien generiert werden und es sollten keine Warnungen oder Fehler in der Webanwendung aufgelistet sein.</p>
<p>Zusätzlich zu den grundlegenden Stationsinformationen werden weitere Metadaten wie die Stationshöhe über dem Meeresspiegel und die Barometerhöhe über dem Meeresspiegel für die Kodierung in BUFR benötigt. Die Felder sind in den Seiten der Stationsliste und des Stationseditors enthalten.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-3-debugging">Übung 3 - Debugging</h3>
<p>In dieser letzten Übung werden Sie zwei der häufigsten Probleme identifizieren und korrigieren, die bei der Verwendung dieses Tools zur Konvertierung von FM-12 SYNOP zu BUFR auftreten.</p>
<p>Beispieldaten werden im Feld unten angezeigt. Untersuchen Sie die Daten und versuchen Sie, alle möglichen Probleme zu lösen, bevor Sie die Daten über die Webanwendung einreichen.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Sie können die Daten im Eingabefeld auf der Webapplikationsseite bearbeiten. Wenn Sie Probleme übersehen, sollten diese erkannt und als Warnung oder Fehler hervorgehoben werden, sobald die Schaltfläche "Absenden" angeklickt wurde.</p>
</div>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001
15020 02997 23104 10130 21075 30177 40377 58020 60001 81041=
15090 02997 53102 10139 21075 30271 40364 58031 60001 82046=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Mit welchen Problemen haben Sie bei der Konvertierung der Daten in BUFR gerechnet und wie haben Sie diese überwunden? Gab es Probleme, mit denen Sie nicht gerechnet haben?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>In diesem ersten Beispiel fehlt das "Ende des Textes"-Symbol (=) oder Datensatztrennzeichen zwischen dem ersten und zweiten Wetterbericht. Folglich werden die Zeilen 2 und 3 als ein einziger Bericht behandelt, was zu Fehlern bei der Analyse der Nachricht führt.</p>
</details>
<p>Das zweite Beispiel unten enthält mehrere häufige Probleme, die in FM-12 SYNOP-Berichten zu finden sind. Untersuchen Sie die Daten und versuchen Sie, die Probleme zu identifizieren, und reichen Sie dann die korrigierten Daten über die Webanwendung ein.</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15020 02997 23104 10/30 21075 30177 40377 580200 60001 81041=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Probleme haben Sie gefunden und wie haben Sie diese gelöst?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es gibt zwei Probleme im Wetterbericht.</p>
<p>Das erste Problem in der Gruppe der vorzeichenbehafteten Lufttemperatur hat das Zehnerzeichen auf fehlend (/) gesetzt, was zu einer ungültigen Gruppe führt. In diesem Beispiel wissen wir, dass die Temperatur 13,0 Grad Celsius beträgt (aus den obigen Beispielen), so dass dieses Problem korrigiert werden kann. Im operativen Betrieb müsste der korrekte Wert mit dem Beobachter bestätigt werden.</p>
<p>Das zweite Problem tritt in Gruppe 5 auf, wo ein zusätzliches Zeichen vorhanden ist, wobei das letzte Zeichen dupliziert ist. Dieses Problem kann durch Entfernen des zusätzlichen Zeichens behoben werden.</p>
</details>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-aufraumen">Aufräumen</h2>
<p>Während der Übungen in dieser Sitzung haben Sie mehrere Dateien in Ihre Stationsliste importiert. Navigieren Sie zur Stationslistenseite und klicken Sie auf die Papierkorbsymbole, um die Stationen zu löschen. Möglicherweise müssen Sie die Seite aktualisieren, damit die Stationen nach dem Löschen aus der Liste entfernt werden.</p>
<p><center><img alt="Station metadata viewer"
         src="../de/assets/img/synop2bufr-trash.png" width="600"></center></p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt:</p>
<ul>
<li>wie das synop2bufr-Tool zur Konvertierung von FM-12 SYNOP-Berichten in BUFR verwendet werden kann;</li>
<li>wie man einen FM-12 SYNOP-Bericht über die Web-App einreicht;</li>
<li>wie man einfache Fehler in einem FM-12 SYNOP-Bericht diagnostiziert und korrigiert;</li>
<li>die Bedeutung der Registrierung von Stationen in der wis2box (und OSCAR/Surface);</li>
<li>und die Verwendung der Inspect-Schaltfläche zur Anzeige des Inhalts von BUFR-Daten.</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-converting-csv-data-to-bufr" heading-number="2.9"><h1 id="de-practical-sessions-converting-csv-data-to-bufr-konvertierung-von-csv-daten-zu-bufr">Konvertierung von CSV-Daten zu BUFR</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>die <strong>MinIO UI</strong> zu nutzen, um CSV-Eingabedateien hochzuladen und das Ergebnis zu überwachen</li>
<li>das Format für CSV-Daten für die Verwendung mit der Standard-BUFR-Vorlage für automatische Wetterstationen zu kennen</li>
<li>den Dataset-Editor in der <strong>wis2box webapp</strong> zu verwenden, um einen Datensatz für die Veröffentlichung von DAYCLI-Nachrichten zu erstellen</li>
<li>das Format für CSV-Daten für die Verwendung mit der DAYCLI-BUFR-Vorlage zu kennen</li>
<li><strong>wis2box webapp</strong> zu verwenden, um Beispieldaten für AWS-Stationen zu validieren und in BUFR zu konvertieren (optional)</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-einfuhrung">Einführung</h2>
<p>Durch Kommas getrennte Werte (CSV) werden häufig verwendet, um Beobachtungs- und andere Daten in einem tabellarischen Format aufzuzeichnen. 
Die meisten Datenlogger, die zur Aufzeichnung von Sensorausgaben verwendet werden, können die Beobachtungen in abgegrenzten Dateien exportieren, einschließlich im CSV-Format.
Ebenso ist es einfach, die erforderlichen Daten in CSV-formatierten Dateien zu exportieren, wenn Daten in eine Datenbank aufgenommen werden. 
Um den Austausch von Daten zu erleichtern, die ursprünglich in tabellarischen Datenformaten gespeichert wurden, wurde in der wis2box ein CSV-zu-BUFR-Konverter implementiert, der die gleiche Software wie für SYNOP zu BUFR verwendet.</p>
<p>In dieser Sitzung lernen Sie die Verwendung des csv2bufr-Konverters in der wis2box für die folgenden integrierten Vorlagen kennen:</p>
<ul>
<li><strong>AWS</strong> (aws-template.json): Mapping-Vorlage für die Konvertierung von CSV-Daten aus einer vereinfachten automatischen Wetterstationsdatei in die BUFR-Sequenz 301150, 307096"</li>
<li><strong>DayCLI</strong> (daycli-template.json): Mapping-Vorlage für die Konvertierung von täglichen Klimadaten im CSV-Format in die BUFR-Sequenz 307075</li>
</ul>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass der wis2box-Stack mit <code>python3 wis2box.py start</code> gestartet wurde</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit der MinIO-Benutzeroberfläche für Ihre Instanz geöffnet haben, indem Sie zu <code>http://&lt;your-host&gt;:9000</code> gehen.
Wenn Sie Ihre MinIO-Anmeldedaten nicht mehr wissen, können Sie diese in der Datei <code>wis2box.env</code> im Verzeichnis <code>wis2box-1.0.0rc1</code> auf Ihrer Student-VM finden.</p>
<p>Stellen Sie sicher, dass Sie MQTT Explorer geöffnet haben und mit Ihrem Broker verbunden sind, indem Sie die Anmeldedaten <code>everyone/everyone</code> verwenden.</p>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-ubung-1-verwendung-von-csv2bufr-mit-der-aws-vorlage">Übung 1: Verwendung von csv2bufr mit der 'AWS'-Vorlage</h2>
<p>Die 'AWS'-Vorlage bietet eine vordefinierte Mapping-Vorlage zur Konvertierung von CSV-Daten von AWS-Stationen zur Unterstützung der GBON-Berichtsanforderungen. </p>
<p>Die Beschreibung der AWS-Vorlage finden Sie <a href="#csv2bufr-templates-aws-template">hier</a>.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-uberprufen-sie-die-aws-example-eingabedaten">Überprüfen Sie die aws-example Eingabedaten</h3>
<p>Laden Sie das Beispiel für diese Übung über den folgenden Link herunter:</p>
<p><a href="/sample-data/aws-example.csv">aws-example.csv</a></p>
<p>Öffnen Sie die heruntergeladene Datei in einem Editor und untersuchen Sie den Inhalt:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was fällt Ihnen bei der Untersuchung der Datums-, Zeit- und Identifikationsfelder (WIGOS und traditionelle Kennungen) auf? Wie würde das heutige Datum dargestellt werden?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Jede Spalte enthält ein einzelnes Informationsstück. Zum Beispiel ist das Datum in Jahr, Monat und Tag aufgeteilt, was widerspiegelt, wie die Daten in BUFR gespeichert werden. Das heutige Datum würde auf die Spalten "year", "month" und "day" aufgeteilt werden. Ebenso muss die Zeit in "hour" und "minute" und die WIGOS-Stationskennung in ihre jeweiligen Komponenten aufgeteilt werden.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie werden fehlende Daten in der Datendatei kodiert?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Fehlende Daten innerhalb der Datei werden durch leere Zellen dargestellt. In einer CSV-Datei würde dies durch <code>,,</code> kodiert werden. Beachten Sie, dass dies eine leere Zelle ist und nicht als Zeichenkette mit Länge Null kodiert wird, z.B. <code>,"",</code>.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Fehlende Daten</p>
<p>Es ist bekannt, dass Daten aus verschiedenen Gründen fehlen können, sei es aufgrund eines Sensorausfalls oder weil der Parameter nicht beobachtet wird. In diesen Fällen können fehlende Daten wie in der obigen Antwort kodiert werden, die anderen Daten im Bericht bleiben gültig.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche WIGOS-Stationskennungen haben die Stationen, die Daten in der Beispieldatei melden? Wie wird sie in der Eingabedatei definiert?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Die WIGOS-Stationskennung wird durch 4 separate Spalten in der Datei definiert:</p>
<ul>
<li><strong>wsi_series</strong>: WIGOS-Identifikationsreihe</li>
<li><strong>wsi_issuer</strong>: WIGOS-Aussteller der Kennung</li>
<li><strong>wsi_issue_number</strong>: WIGOS-Ausgabenummer</li>
<li><strong>wsi_local</strong>: WIGOS lokale Kennung</li>
</ul>
<p>Die in der Beispieldatei verwendeten WIGOS-Stationskennungen sind <code>0-20000-0-60351</code>, <code>0-20000-0-60355</code> und <code>0-20000-0-60360</code>.   </p>
</details>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-aktualisieren-sie-die-beispieldatei">Aktualisieren Sie die Beispieldatei</h3>
<p>Aktualisieren Sie die heruntergeladene Beispieldatei, um das heutige Datum und die aktuelle Uhrzeit zu verwenden, und ändern Sie die WIGOS-Stationskennungen, um Stationen zu verwenden, die Sie in der wis2box-Webapp registriert haben.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-laden-sie-die-daten-in-minio-hoch-und-uberprufen-sie-das-ergebnis">Laden Sie die Daten in MinIO hoch und überprüfen Sie das Ergebnis</h3>
<p>Navigieren Sie zur MinIO-Benutzeroberfläche und melden Sie sich mit den Anmeldedaten aus der Datei <code>wis2box.env</code> an.</p>
<p>Navigieren Sie zu <strong>wis2box-incoming</strong> und klicken Sie auf die Schaltfläche "Create new path":</p>
<p><img alt="Bild, das die MinIO-Benutzeroberfläche mit hervorgehobener Schaltfläche zum Erstellen eines Ordners zeigt" src="../de/assets/img/minio-create-new-path.png"/></p>
<p>Erstellen Sie einen neuen Ordner im MinIO-Bucket, der der dataset-id für den Datensatz entspricht, den Sie mit der Vorlage='weather/surface-weather-observations/synop' erstellt haben:</p>
<p><img alt="Bild, das die MinIO-Benutzeroberfläche mit hervorgehobener Schaltfläche zum Erstellen eines Ordners zeigt" src="../de/assets/img/minio-create-new-path-metadata_id.png"/></p>
<p>Laden Sie die heruntergeladene Beispieldatei in den von Ihnen erstellten Ordner im MinIO-Bucket hoch:</p>
<p><img alt="Bild, das die MinIO-Benutzeroberfläche mit hochgeladenem aws-example zeigt" src="../de/assets/img/minio-upload-aws-example.png"/></center></p>
<p>Überprüfen Sie das Grafana-Dashboard unter <code>http://&lt;your-host&gt;:3000</code>, um zu sehen, ob es WARNUNGEN oder FEHLER gibt. Wenn Sie welche sehen, versuchen Sie, sie zu beheben und wiederholen Sie die Übung.</p>
<p>Überprüfen Sie den MQTT Explorer, um zu sehen, ob Sie WIS2-Datenbenachrichtigungen erhalten.</p>
<p>Wenn Sie die Daten erfolgreich aufgenommen haben, sollten Sie 3 Benachrichtigungen im MQTT Explorer zum Thema <code>origin/a/wis2/&lt;centre-id&gt;/data/weather/surface-weather-observations/synop</code> für die 3 Stationen sehen, für die Sie Daten gemeldet haben:</p>
<p><img width="450" alt="Bild, das den MQTT Explorer nach dem Hochladen von AWS zeigt" src="../de/assets/img/mqtt-explorer-aws-upload.png"/></p>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-ubung-2-verwendung-der-daycli-vorlage">Übung 2 - Verwendung der 'DayCLI'-Vorlage</h2>
<p>In der vorherigen Übung haben wir den Datensatz verwendet, den Sie mit Data-type='weather/surface-weather-observations/synop' erstellt haben, der die CSV-zu-BUFR-Konvertierungsvorlage auf die AWS-Vorlage vorkonfiguriert hat.</p>
<p>In der nächsten Übung werden wir die 'DayCLI'-Vorlage verwenden, um tägliche Klimadaten in BUFR zu konvertieren.</p>
<p>Die Beschreibung der DAYCLI-Vorlage finden Sie <a href="#csv2bufr-templates-daycli-template">hier</a>.</p>
<div class="admonition note">
<p class="admonition-title">Über die DAYCLI-Vorlage</p>
<p>Bitte beachten Sie, dass die DAYCLI-BUFR-Sequenz im Laufe des Jahres 2025 aktualisiert wird, um zusätzliche Informationen und überarbeitete QC-Flags aufzunehmen. Die in der wis2box enthaltene DAYCLI-Vorlage wird entsprechend aktualisiert. Die WMO wird mitteilen, wann die wis2box-Software aktualisiert wird, um die neue DAYCLI-Vorlage zu integrieren, damit Benutzer ihre Systeme entsprechend aktualisieren können.</p>
</div>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-erstellen-eines-wis2box-datensatzes-zur-veroffentlichung-von-daycli-nachrichten">Erstellen eines wis2box-Datensatzes zur Veröffentlichung von DAYCLI-Nachrichten</h3>
<p>Gehen Sie zum Dataset-Editor in der wis2box-Webapp und erstellen Sie einen neuen Datensatz. Verwenden Sie dieselbe centre-id wie in den vorherigen praktischen Sitzungen und wählen Sie <strong>Data Type='climate/surface-based-observations/daily'</strong>:</p>
<p><img alt="Erstellen Sie einen neuen Datensatz in der wis2box-Webapp für DAYCLI" src="../de/assets/img/wis2box-webapp-create-dataset-daycli.png"/></p>
<p>Klicken Sie auf "CONTINUE TO FORM" und fügen Sie eine Beschreibung für Ihren Datensatz hinzu, legen Sie die Bounding Box fest und geben Sie die Kontaktinformationen für den Datensatz an. Sobald Sie alle Abschnitte ausgefüllt haben, klicken Sie auf 'VALIDATE FORM' und überprüfen Sie das Formular.</p>
<p>Überprüfen Sie die Daten-Plugins für die Datensätze. Klicken Sie auf "UPDATE" neben dem Plugin mit dem Namen "CSV data converted to BUFR" und Sie werden sehen, dass die Vorlage auf <strong>DayCLI</strong> eingestellt ist:</p>
<p><img alt="Aktualisieren Sie das Daten-Plugin für den Datensatz, um die DAYCLI-Vorlage zu verwenden" src="../de/assets/img/wis2box-webapp-update-data-plugin-daycli.png"/></p>
<p>Schließen Sie die Plugin-Konfiguration und senden Sie das Formular mit dem Authentifizierungstoken, das Sie in der vorherigen praktischen Sitzung erstellt haben.</p>
<p>Sie sollten jetzt einen zweiten Datensatz in der wis2box-Webapp haben, der so konfiguriert ist, dass er die DAYCLI-Vorlage für die Konvertierung von CSV-Daten in BUFR verwendet.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-uberprufen-sie-die-daycli-example-eingabedaten">Überprüfen Sie die daycli-example Eingabedaten</h3>
<p>Laden Sie das Beispiel für diese Übung über den folgenden Link herunter:</p>
<p><a href="/sample-data/daycli-example.csv">daycli-example.csv</a></p>
<p>Öffnen Sie die heruntergeladene Datei in einem Editor und untersuchen Sie den Inhalt:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche zusätzlichen Variablen sind in der daycli-Vorlage enthalten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Die daycli-Vorlage enthält wichtige Metadaten zur Instrumentenaufstellung und Messqualitätsklassifikationen für Temperatur und Feuchtigkeit, Qualitätskontrollflags und Informationen darüber, wie die tägliche Durchschnittstemperatur berechnet wurde.</p>
</details>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-aktualisieren-sie-die-beispieldatei_1">Aktualisieren Sie die Beispieldatei</h3>
<p>Die Beispieldatei enthält eine Zeile mit Daten für jeden Tag in einem Monat und meldet Daten für eine Station. Aktualisieren Sie die heruntergeladene Beispieldatei, um das heutige Datum und die aktuelle Uhrzeit zu verwenden, und ändern Sie die WIGOS-Stationskennungen, um eine Station zu verwenden, die Sie in der wis2box-Webapp registriert haben.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-laden-sie-die-daten-in-minio-hoch-und-uberprufen-sie-das-ergebnis_1">Laden Sie die Daten in MinIO hoch und überprüfen Sie das Ergebnis</h3>
<p>Wie zuvor müssen Sie die Daten in den 'wis2box-incoming'-Bucket in MinIO hochladen, damit sie vom csv2bufr-Konverter verarbeitet werden können. Diesmal müssen Sie einen neuen Ordner im MinIO-Bucket erstellen, der der dataset-id für den Datensatz entspricht, den Sie mit der Vorlage='climate/surface-based-observations/daily' erstellt haben, die sich von der dataset-id unterscheidet, die Sie in der vorherigen Übung verwendet haben:</p>
<p><img alt="Bild, das die MinIO-Benutzeroberfläche mit hochgeladenem DAYCLI-Beispiel zeigt" src="../de/assets/img/minio-upload-daycli-example.png"/></center></p>
<p>Überprüfen Sie nach dem Hochladen der Daten, ob es keine WARNUNGEN oder FEHLER im Grafana-Dashboard gibt, und überprüfen Sie den MQTT Explorer, um zu sehen, ob Sie WIS2-Datenbenachrichtigungen erhalten.</p>
<p>Wenn Sie die Daten erfolgreich aufgenommen haben, sollten Sie 30 Benachrichtigungen im MQTT Explorer zum Thema `origin/a/wis2/<centre-id>/data/climate/surface-base</p></section><section class="print-page" id="de-practical-sessions-automating-data-ingestion" heading-number="2.10"><h1 id="de-practical-sessions-automating-data-ingestion-automatisierung-der-datenaufnahme">Automatisierung der Datenaufnahme</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>zu verstehen, wie die Daten-Plugins Ihres Datensatzes den Datenaufnahme-Workflow bestimmen</li>
<li>Daten in wis2box mit einem Skript unter Verwendung des MinIO Python-Clients aufzunehmen</li>
<li>Daten in wis2box aufzunehmen, indem Sie über SFTP auf MinIO zugreifen</li>
</ul>
</div>
<h2 id="de-practical-sessions-automating-data-ingestion-einfuhrung">Einführung</h2>
<p>Der <strong>wis2box-management</strong>-Container überwacht Ereignisse vom MinIO-Speicherdienst, um die Datenaufnahme basierend auf den für Ihren Datensatz konfigurierten Daten-Plugins auszulösen. Dies ermöglicht es Ihnen, Daten in den MinIO-Bucket hochzuladen und den wis2box-Workflow zu starten, um Daten auf dem WIS2-Broker zu veröffentlichen.</p>
<p>Die Daten-Plugins definieren die Python-Module, die vom <strong>wis2box-management</strong>-Container geladen werden und bestimmen, wie die Daten transformiert und veröffentlicht werden.</p>
<p>In der vorherigen Übung sollten Sie einen Datensatz mit der Vorlage <code>surface-based-observations/synop</code> erstellt haben, der die folgenden Daten-Plugins enthielt:</p>
<p><img alt="data-mappings" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Wenn eine Datei in MinIO hochgeladen wird, ordnet wis2box die Datei einem Datensatz zu, wenn der Dateipfad die Datensatz-ID (<code>metadata_id</code>) enthält, und bestimmt die zu verwendenden Daten-Plugins anhand der Dateierweiterung und des in den Datensatz-Mappings definierten Dateimusters.</p>
<p>In den vorherigen Sitzungen haben wir den Datenaufnahme-Workflow durch die Verwendung der wis2box-Befehlszeilenfunktionalität ausgelöst, die Daten im korrekten Pfad in den MinIO-Speicher hochlädt.</p>
<p>Die gleichen Schritte können programmatisch mit jeder MinIO- oder S3-Client-Software durchgeführt werden, was Ihnen ermöglicht, Ihre Datenaufnahme als Teil Ihrer operativen Workflows zu automatisieren.</p>
<p>Alternativ können Sie auch über das SFTP-Protokoll auf MinIO zugreifen, um Daten hochzuladen und den Datenaufnahme-Workflow auszulösen.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-vorbereitung">Vorbereitung</h2>
<p>Melden Sie sich mit Ihrem SSH-Client (PuTTY oder einem anderen) an Ihrer Student-VM an.</p>
<p>Stellen Sie sicher, dass wis2box läuft:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1/
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<p>Stellen Sie sicher, dass MQTT Explorer läuft und mit Ihrer Instanz verbunden ist. Wenn Sie noch von der vorherigen Sitzung verbunden sind, löschen Sie alle vorherigen Nachrichten, die Sie möglicherweise aus der Warteschlange erhalten haben.
Dies kann entweder durch Trennen und Wiederverbinden oder durch Klicken auf das Papierkorbsymbol für das entsprechende Thema erfolgen.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit dem Grafana-Dashboard für Ihre Instanz geöffnet haben, indem Sie zu <code>http://&lt;your-host&gt;:3000</code> gehen.</p>
<p>Und stellen Sie sicher, dass Sie einen zweiten Tab mit der MinIO-Benutzeroberfläche unter <code>http://&lt;your-host&gt;:9001</code> geöffnet haben. Denken Sie daran, dass Sie sich mit dem in Ihrer <code>wis2box.env</code>-Datei definierten <code>WIS2BOX_STORAGE_USER</code> und <code>WIS2BOX_STORAGE_PASSWORD</code> anmelden müssen.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-1-einrichten-eines-python-skripts-zur-datenaufnahme-in-minio">Übung 1: Einrichten eines Python-Skripts zur Datenaufnahme in MinIO</h2>
<p>In dieser Übung verwenden wir den MinIO Python-Client, um Daten nach MinIO zu kopieren.</p>
<p>MinIO bietet einen Python-Client, der wie folgt installiert werden kann:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>minio
</code></pre></div>
<p>Auf Ihrer Student-VM ist das 'minio'-Paket für Python bereits installiert.</p>
<p>Gehen Sie in das Verzeichnis <code>exercise-materials/data-ingest-exercises</code>; dieses Verzeichnis enthält ein Beispielskript <code>copy_file_to_incoming.py</code>, das den MinIO Python-Client verwendet, um eine Datei nach MinIO zu kopieren.</p>
<p>Versuchen Sie, das Skript auszuführen, um die Beispieldatendatei <code>csv-aws-example.csv</code> in den <code>wis2box-incoming</code>-Bucket in MinIO zu kopieren:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/exercise-materials/data-ingest-exercises
python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>csv-aws-example.csv
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie erhalten einen Fehler, da das Skript noch nicht für den Zugriff auf den MinIO-Endpunkt auf Ihrer wis2box konfiguriert ist.</p>
</div>
<p>Das Skript muss den korrekten Endpunkt für den Zugriff auf MinIO auf Ihrer wis2box kennen. Wenn wis2box auf Ihrem Host läuft, ist der MinIO-Endpunkt unter <code>http://&lt;your-host&gt;:9000</code> verfügbar. Das Skript muss auch mit Ihrem Speicherpasswort und dem Pfad im MinIO-Bucket aktualisiert werden, um die Daten zu speichern.</p>
<div class="admonition question">
<p class="admonition-title">Aktualisieren Sie das Skript und nehmen Sie die CSV-Daten auf</p>
<p>Bearbeiten Sie das Skript <code>copy_file_to_incoming.py</code>, um die Fehler zu beheben, mit einer der folgenden Methoden:
- Von der Kommandozeile aus: Verwenden Sie den Texteditor <code>nano</code> oder <code>vim</code>, um das Skript zu bearbeiten
- Mit WinSCP: Starten Sie eine neue Verbindung mit dem Dateiprotokoll <code>SCP</code> und denselben Anmeldeinformationen wie Ihr SSH-Client. Navigieren Sie zum Verzeichnis <code>exercise-materials/data-ingest-exercises</code> und bearbeiten Sie <code>copy_file_to_incoming.py</code> mit dem eingebauten Texteditor</p>
<p>Stellen Sie sicher, dass Sie:</p>
<ul>
<li>den korrekten MinIO-Endpunkt für Ihren Host definieren</li>
<li>das korrekte Speicherpasswort für Ihre MinIO-Instanz angeben</li>
<li>den korrekten Pfad im MinIO-Bucket zum Speichern der Daten angeben</li>
</ul>
<p>Führen Sie das Skript erneut aus, um die Beispieldatendatei <code>csv-aws-example.csv</code> in MinIO aufzunehmen:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>csv-aws-example.csv
</code></pre></div>
<p>Und stellen Sie sicher, dass die Fehler behoben sind.</p>
</div>
<p>Sie können überprüfen, ob die Daten korrekt hochgeladen wurden, indem Sie die MinIO-Benutzeroberfläche überprüfen und sehen, ob die Beispieldaten im richtigen Verzeichnis im <code>wis2box-incoming</code>-Bucket verfügbar sind.</p>
<p>Sie können das Grafana-Dashboard verwenden, um den Status des Datenaufnahme-Workflows zu überprüfen.</p>
<p>Schließlich können Sie MQTT Explorer verwenden, um zu überprüfen, ob Benachrichtigungen für die von Ihnen aufgenommenen Daten veröffentlicht wurden. Sie sollten sehen, dass die CSV-Daten in das BUFR-Format umgewandelt wurden und dass eine WIS2-Datenbenachrichtigung mit einer "kanonischen" URL veröffentlicht wurde, um das Herunterladen der BUFR-Daten zu ermöglichen.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-2-aufnahme-von-binardaten">Übung 2: Aufnahme von Binärdaten</h2>
<p>Als Nächstes versuchen wir, Binärdaten im BUFR-Format mit dem MinIO Python-Client aufzunehmen.</p>
<p>wis2box kann Binärdaten im BUFR-Format mit dem in wis2box enthaltenen Plugin <code>wis2box.data.bufr4.ObservationDataBUFR</code> aufnehmen.</p>
<p>Dieses Plugin teilt die BUFR-Datei in einzelne BUFR-Nachrichten auf und veröffentlicht jede Nachricht an den MQTT-Broker. Wenn die Station für die entsprechende BUFR-Nachricht nicht in den wis2box-Stationsmetadaten definiert ist, wird die Nachricht nicht veröffentlicht.</p>
<p>Da Sie in der vorherigen Sitzung die Vorlage <code>surface-based-observations/synop</code> verwendet haben, enthalten Ihre Datenmappings das Plugin <code>FM-12 data converted to BUFR</code> für die Datensatzmappings. Dieses Plugin lädt das Modul <code>wis2box.data.synop2bufr.ObservationDataSYNOP2BUFR</code>, um die Daten aufzunehmen.</p>
<div class="admonition question">
<p class="admonition-title">Aufnahme von Binärdaten im BUFR-Format</p>
<p>Führen Sie den folgenden Befehl aus, um die Binärdatendatei <code>bufr-example.bin</code> in den <code>wis2box-incoming</code>-Bucket in MinIO zu kopieren:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>bufr-example.bin
</code></pre></div>
</div>
<p>Überprüfen Sie das Grafana-Dashboard und MQTT Explorer, um zu sehen, ob die Testdaten erfolgreich aufgenommen und veröffentlicht wurden, und wenn Sie Fehler sehen, versuchen Sie, diese zu beheben.</p>
<div class="admonition question">
<p class="admonition-title">Überprüfen Sie die Datenaufnahme</p>
<p>Wie viele Nachrichten wurden für dieses Datenbeispiel an den MQTT-Broker gesendet?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Wenn Sie das letzte Datenbeispiel erfolgreich aufgenommen und veröffentlicht haben, sollten Sie 10 neue Benachrichtigungen auf dem wis2box MQTT-Broker erhalten haben. Jede Benachrichtigung entspricht Daten für eine Station für einen Beobachtungszeitstempel.</p>
<p>Das Plugin <code>wis2box.data.bufr4.ObservationDataBUFR</code> teilt die BUFR-Datei in einzelne BUFR-Nachrichten auf und veröffentlicht eine Nachricht für jede Station und jeden Beobachtungszeitstempel.</p>
</details>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-3-aufnahme-von-synop-daten-im-ascii-format">Übung 3: Aufnahme von SYNOP-Daten im ASCII-Format</h2>
<p>In der vorherigen Sitzung haben wir das SYNOP-Formular in der <strong>wis2box-webapp</strong> verwendet, um SYNOP-Daten im ASCII-Format aufzunehmen. Sie können SYNOP-Daten im ASCII-Format auch aufnehmen, indem Sie die Daten in MinIO hochladen.</p>
<p>In der vorherigen Sitzung sollten Sie einen Datensatz erstellt haben, der das Plugin 'FM-12 data converted to BUFR' für die Datensatzmappings enthielt:</p>
<p><img alt="dataset-mappings" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Dieses Plugin lädt das Modul <code>wis2box.data.synop2bufr.ObservationDataSYNOP2BUFR</code>, um die Daten aufzunehmen.</p>
<p>Versuchen Sie, den MinIO Python-Client zu verwenden, um die Testdaten <code>synop-202307.txt</code> und <code>synop-202308.txt</code> in Ihre wis2box-Instanz aufzunehmen.</p>
<p>Beachten Sie, dass die 2 Dateien den gleichen Inhalt enthalten, aber der Dateiname unterschiedlich ist. Der Dateiname wird verwendet, um das Datum des Datenbeispiels zu bestimmen.</p>
<p>Das synop2bufr-Plugin stützt sich auf ein Dateimuster, um das Datum aus dem Dateinamen zu extrahieren. Die erste Gruppe im regulären Ausdruck wird verwendet, um das Jahr zu extrahieren, und die zweite Gruppe wird verwendet, um den Monat zu extrahieren.</p>
<div class="admonition question">
<p class="admonition-title">Nehmen Sie FM-12 SYNOP-Daten im ASCII-Format auf</p>
<p>Gehen Sie zurück zur MinIO-Oberfläche in Ihrem Browser und navigieren Sie zum <code>wis2box-incoming</code>-Bucket und in den Pfad, in den Sie die Testdaten in der vorherigen Übung hochgeladen haben.</p>
<p>Laden Sie die neuen Dateien im richtigen Pfad im <code>wis2box-incoming</code>-Bucket in MinIO hoch, um den Datenaufnahme-Workflow auszulösen.</p>
<p>Überprüfen Sie das Grafana-Dashboard und MQTT Explorer, um zu sehen, ob die Testdaten erfolgreich aufgenommen und veröffentlicht wurden.</p>
<p>Was ist der Unterschied in <code>properties.datetime</code> zwischen den beiden an den MQTT-Broker gesendeten Nachrichten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Überprüfen Sie die Eigenschaften der letzten 2 Benachrichtigungen in MQTT Explorer und Sie werden feststellen, dass eine Benachrichtigung hat:</p>
<div class="highlight"><pre><span></span><code>&quot;properties&quot;: {
    &quot;data_id&quot;: &quot;wis2/urn:wmo:md:nl-knmi-test:surface-based-observations.synop/WIGOS_0-20000-0-60355_20230703T090000&quot;,
    &quot;datetime&quot;: &quot;2023-07-03T09:00:00Z&quot;,
    ...
</code></pre></div>
<p>und die andere Benachrichtigung hat:</p>
<div class="highlight"><pre><span></span><code>&quot;properties&quot;: {
    &quot;data_id&quot;: &quot;wis2/urn:wmo:md:nl-knmi-test:surface-based-observations.synop/WIGOS_0-20000-0-60355_20230803T090000&quot;,
    &quot;datetime&quot;: &quot;2023-08-03T09:00:00Z&quot;,
    ...
</code></pre></div>
<p>Der Dateiname wurde verwendet, um das Jahr und den Monat des Datenbeispiels zu bestimmen.</p>
</details>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-4-datenaufnahme-in-minio-uber-sftp">Übung 4: Datenaufnahme in MinIO über SFTP</h2>
<p>Daten können auch über SFTP in MinIO aufgenommen werden.</p>
<p>Der in wis2box-stack aktivierte MinIO-Dienst hat SFTP auf Port 8022 aktiviert. Sie können über SFTP mit denselben Anmeldeinformationen wie für die MinIO-Benutzeroberfläche auf MinIO zugreifen. In dieser Übung verwenden wir die Admin-Anmeldeinformationen für den MinIO-Dienst, wie in <code>wis2box.env</code> definiert, aber Sie können auch zusätzliche Benutzer in der MinIO-Benutzeroberfläche erstellen.</p>
<p>Um über SFTP auf MinIO zuzugreifen, können Sie jede SFTP-Client-Software verwenden. In dieser Übung verwenden wir Win</p></section><section class="print-page" id="de-practical-sessions-adding-gts-headers-to-wis2-notifications" heading-number="2.11"><h1 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-gts-header-zu-wis2-benachrichtigungen-hinzufugen">GTS-Header zu WIS2-Benachrichtigungen hinzufügen</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Übung werden Sie in der Lage sein:</p>
<ul>
<li>eine Zuordnung zwischen Dateinamen und GTS-Headern zu konfigurieren</li>
<li>Daten mit einem Dateinamen einzuspeisen, der den GTS-Headern entspricht</li>
<li>die GTS-Header in den WIS2-Benachrichtigungen anzuzeigen</li>
</ul>
</div>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-einfuhrung">Einführung</h2>
<p>WMO-Mitglieder, die ihre Datenübertragung über GTS während der Übergangsphase zu WIS2 einstellen möchten, müssen ihren WIS2-Benachrichtigungen GTS-Header hinzufügen. Diese Header ermöglichen es dem WIS2-zu-GTS-Gateway, die Daten an das GTS-Netzwerk weiterzuleiten.</p>
<p>Dies ermöglicht Mitgliedern, die auf die Verwendung eines WIS2-Knotens für die Datenveröffentlichung umgestellt haben, ihr MSS-System zu deaktivieren und sicherzustellen, dass ihre Daten weiterhin für Mitglieder verfügbar sind, die noch nicht zu WIS2 migriert sind.</p>
<p>Die GTS-Eigenschaft in der WIS2-Benachrichtigungsnachricht muss als zusätzliche Eigenschaft zur WIS2-Benachrichtigungsnachricht hinzugefügt werden. Die GTS-Eigenschaft ist ein JSON-Objekt, das die GTS-Header enthält, die für die Weiterleitung der Daten an das GTS-Netzwerk erforderlich sind.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;gts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ttaaii&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FTAE31&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cccc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VTBB&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>In wis2box können Sie dies automatisch zu WIS2-Benachrichtigungen hinzufügen, indem Sie eine zusätzliche Datei namens <code>gts_headers_mapping.csv</code> bereitstellen, die die erforderlichen Informationen enthält, um die GTS-Header den eingehenden Dateinamen zuzuordnen.</p>
<p>Diese Datei sollte in dem Verzeichnis platziert werden, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist, und sollte die folgenden Spalten enthalten:</p>
<ul>
<li><code>string_in_filepath</code>: eine Zeichenfolge, die Teil des Dateinamens ist und zur Zuordnung der GTS-Header verwendet wird</li>
<li><code>TTAAii</code>: der TTAAii-Header, der zur WIS2-Benachrichtigung hinzugefügt werden soll</li>
<li><code>CCCC</code>: der CCCC-Header, der zur WIS2-Benachrichtigung hinzugefügt werden soll</li>
</ul>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass Sie SSH-Zugriff auf Ihre Student-VM haben und dass Ihre wis2box-Instanz läuft.</p>
<p>Stellen Sie sicher, dass Sie mit dem MQTT-Broker Ihrer wis2box-Instanz über MQTT Explorer verbunden sind. Sie können die öffentlichen Anmeldedaten <code>everyone/everyone</code> verwenden, um eine Verbindung zum Broker herzustellen.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit dem Grafana-Dashboard für Ihre Instanz geöffnet haben, indem Sie zu <code>http://&lt;your-host&gt;:3000</code> gehen.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-erstellen-von-gts_headers_mappingcsv">Erstellen von <code>gts_headers_mapping.csv</code></h2>
<p>Um GTS-Header zu Ihren WIS2-Benachrichtigungen hinzuzufügen, wird eine CSV-Datei benötigt, die GTS-Header eingehenden Dateinamen zuordnet.</p>
<p>Die CSV-Datei sollte (genau) <code>gts_headers_mapping.csv</code> heißen und in dem Verzeichnis platziert werden, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-1-bereitstellen-einer-gts_headers_mappingcsv-datei">Übung 1: Bereitstellen einer <code>gts_headers_mapping.csv</code>-Datei</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/gts-headers-exercises/gts_headers_mapping.csv</code> auf Ihre wis2box-Instanz und platzieren Sie sie in dem Verzeichnis, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/gts-headers-exercises/gts_headers_mapping.csv<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Starten Sie dann den wis2box-management-Container neu, um die Änderungen zu übernehmen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>restart<span class="w"> </span>wis2box-management
</code></pre></div>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-2-einspeisung-von-daten-mit-gts-headern">Übung 2: Einspeisung von Daten mit GTS-Headern</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/gts-headers-exercises/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt</code> in das Verzeichnis, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/gts-headers-exercises/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Melden Sie sich dann beim <strong>wis2box-management</strong>-Container an:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Von der wis2box-Kommandozeile aus können wir die Beispieldatei <code>A_SMRO01YRBK171200_C_EDZW_20240717120502.txt</code> wie folgt in einen bestimmten Datensatz einspeisen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop
</code></pre></div>
<p>Stellen Sie sicher, dass Sie die Option <code>metadata-id</code> durch die korrekte Kennung für Ihren Datensatz ersetzen.</p>
<p>Überprüfen Sie das Grafana-Dashboard, um zu sehen, ob die Daten korrekt eingespeist wurden. Wenn Sie WARNUNGEN oder FEHLER sehen, versuchen Sie, diese zu beheben und wiederholen Sie die Übung mit dem Befehl <code>wis2box data ingest</code>.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-3-anzeigen-der-gts-header-in-der-wis2-benachrichtigung">Übung 3: Anzeigen der GTS-Header in der WIS2-Benachrichtigung</h2>
<p>Gehen Sie zum MQTT Explorer und überprüfen Sie die WIS2-Benachrichtigungsnachricht für die Daten, die Sie gerade eingespeist haben.</p>
<p>Die WIS2-Benachrichtigungsnachricht sollte die GTS-Header enthalten, die Sie in der Datei <code>gts_headers_mapping.csv</code> angegeben haben.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Übung haben Sie gelernt, wie man:
  - GTS-Header zu Ihren WIS2-Benachrichtigungen hinzufügt
  - überprüft, ob GTS-Header über Ihre wis2box-Installation verfügbar gemacht werden</p>
</div></section><section class="print-page" id="de-practical-sessions-datasets-with-access-control" heading-number="2.12"><h1 id="de-practical-sessions-datasets-with-access-control-einrichtung-eines-empfohlenen-datensatzes-mit-zugriffskontrolle">Einrichtung eines empfohlenen Datensatzes mit Zugriffskontrolle</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen neuen Datensatz mit der Datenrichtlinie 'empfohlen' zu erstellen</li>
<li>dem Datensatz ein Zugriffstoken hinzuzufügen</li>
<li>zu überprüfen, dass auf den Datensatz ohne Zugriffstoken nicht zugegriffen werden kann</li>
<li>das Zugriffstoken zu HTTP-Headern hinzuzufügen, um auf den Datensatz zuzugreifen</li>
</ul>
</div>
<h2 id="de-practical-sessions-datasets-with-access-control-einfuhrung">Einführung</h2>
<p>Datensätze, die nicht als 'Kern'-Datensätze in der WMO betrachtet werden, können optional mit einer Zugriffskontrollrichtlinie konfiguriert werden. wis2box bietet einen Mechanismus, um einem Datensatz ein Zugriffstoken hinzuzufügen, das Benutzer daran hindert, Daten herunterzuladen, es sei denn, sie geben das Zugriffstoken in den HTTP-Headern an.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass Sie SSH-Zugriff auf Ihre Student-VM haben und dass Ihre wis2box-Instanz läuft.</p>
<p>Stellen Sie sicher, dass Sie mit dem MQTT-Broker Ihrer wis2box-Instanz über MQTT Explorer verbunden sind. Sie können die öffentlichen Anmeldedaten <code>everyone/everyone</code> verwenden, um eine Verbindung zum Broker herzustellen.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit der wis2box-Webapp für Ihre Instanz geöffnet haben, indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> gehen.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-1-erstellen-eines-neuen-datensatzes-mit-datenrichtlinie-empfohlen">Übung 1: Erstellen eines neuen Datensatzes mit Datenrichtlinie 'empfohlen'</h2>
<p>Gehen Sie zur Seite 'Dataset Editor' in der wis2box-Webapp und erstellen Sie einen neuen Datensatz. Verwenden Sie dieselbe Zentrum-ID wie in den vorherigen praktischen Sitzungen und verwenden Sie die Vorlage='surface-weather-observations/synop'.</p>
<p>Klicken Sie auf 'OK', um fortzufahren.</p>
<p>Setzen Sie im Dataset Editor die Datenrichtlinie auf 'recommended' (beachten Sie, dass die Änderung der Datenrichtlinie die 'Topic-Hierarchie' aktualisiert).
Ersetzen Sie die automatisch generierte 'Local ID' durch einen beschreibenden Namen für den Datensatz, z.B. 'recommended-data-with-access-control':</p>
<p><img alt="create-dataset-recommended" src="../de/assets/img/create-dataset-recommended.png" width="800"></p>
<p>Füllen Sie weiterhin die erforderlichen Felder für räumliche Eigenschaften und Kontaktinformationen aus und 'Validieren Sie das Formular', um auf Fehler zu prüfen.</p>
<p>Reichen Sie schließlich den Datensatz ein, indem Sie das zuvor erstellte Authentifizierungstoken verwenden, und überprüfen Sie, ob der neue Datensatz in der wis2box-Webapp erstellt wurde.</p>
<p>Überprüfen Sie MQTT-Explorer, um zu sehen, ob Sie die WIS2-Benachrichtigungsnachricht erhalten, die den neuen Discovery-Metadatensatz zum Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/metadata</code> ankündigt.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-2-hinzufugen-eines-zugriffstokens-zum-datensatz">Übung 2: Hinzufügen eines Zugriffstokens zum Datensatz</h2>
<p>Melden Sie sich beim wis2box-Management-Container an,</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Von der Kommandozeile innerhalb des Containers können Sie einen Datensatz mit dem Befehl <code>wis2box auth add-token</code> sichern, indem Sie mit dem Flag <code>--metadata-id</code> die Metadaten-ID des Datensatzes und das Zugriffstoken als Argument angeben.</p>
<p>Um beispielsweise das Zugriffstoken <code>S3cr3tT0k3n</code> zum Datensatz mit der Metadaten-ID <code>urn:wmo:md:not-my-centre:core.surface-based-observations.synop</code> hinzuzufügen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:reco.surface-based-observations.synop<span class="w"> </span>S3cr3tT0k3n
</code></pre></div>
<p>Verlassen Sie den wis2box-Management-Container:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-3-veroffentlichen-von-daten-im-datensatz">Übung 3: Veröffentlichen von Daten im Datensatz</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/access-control-exercises/aws-example2.csv</code> in das Verzeichnis, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/access-control-exercises/aws-example2.csv<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Verwenden Sie dann WinSCP oder einen Kommandozeilen-Editor, um die Datei <code>aws-example2.csv</code> zu bearbeiten und die WIGOS-Stationskennungen in den Eingabedaten zu aktualisieren, damit sie mit den Stationen in Ihrer wis2box-Instanz übereinstimmen.</p>
<p>Gehen Sie als Nächstes zum Station-Editor in der wis2box-Webapp. Aktualisieren Sie für jede Station, die Sie in <code>aws-example2.csv</code> verwendet haben, das Feld 'topic', damit es mit dem 'topic' des Datensatzes übereinstimmt, den Sie in der vorherigen Übung erstellt haben.</p>
<p>Diese Station wird nun mit 2 Themen verknüpft, einem für den 'core'-Datensatz und einem für den 'recommended'-Datensatz:</p>
<p><img alt="edit-stations-add-topics" src="../de/assets/img/edit-stations-add-topics.png" width="600"></p>
<p>Sie müssen Ihr Token für <code>collections/stations</code> verwenden, um die aktualisierten Stationsdaten zu speichern.</p>
<p>Melden Sie sich als Nächstes beim wis2box-Management-Container an:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Von der wis2box-Kommandozeile aus können wir die Beispieldatendatei <code>aws-example2.csv</code> wie folgt in einen bestimmten Datensatz einlesen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/aws-example2.csv<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:reco.surface-based-observations.synop
</code></pre></div>
<p>Stellen Sie sicher, dass Sie die richtige Metadaten-ID für Ihren Datensatz angeben und <strong>überprüfen Sie, dass Sie WIS2-Datenbenachrichtigungen in MQTT Explorer erhalten</strong>, zum Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/data/recommended/surface-based-observations/synop</code>.</p>
<p>Überprüfen Sie den kanonischen Link in der WIS2-Benachrichtigungsnachricht und kopieren/fügen Sie den Link in den Browser ein, um zu versuchen, die Daten herunterzuladen.</p>
<p>Sie sollten einen 403 Forbidden-Fehler sehen.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-4-hinzufugen-des-zugriffstokens-zu-http-headern-fur-den-zugriff-auf-den-datensatz">Übung 4: Hinzufügen des Zugriffstokens zu HTTP-Headern für den Zugriff auf den Datensatz</h2>
<p>Um zu demonstrieren, dass das Zugriffstoken erforderlich ist, um auf den Datensatz zuzugreifen, werden wir den Fehler, den Sie im Browser gesehen haben, mit der Kommandozeilenfunktion <code>wget</code> reproduzieren.</p>
<p>Verwenden Sie von der Kommandozeile in Ihrer Student-VM den Befehl <code>wget</code> mit dem kanonischen Link, den Sie aus der WIS2-Benachrichtigungsnachricht kopiert haben.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>&lt;canonical-link&gt;
</code></pre></div>
<p>Sie sollten sehen, dass die HTTP-Anfrage mit <em>401 Unauthorized</em> zurückkommt und die Daten nicht heruntergeladen werden.</p>
<p>Fügen Sie nun das Zugriffstoken zu den HTTP-Headern hinzu, um auf den Datensatz zuzugreifen.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>--header<span class="o">=</span><span class="s2">&quot;Authorization: Bearer S3cr3tT0k3n&quot;</span><span class="w"> </span>&lt;canonical-link&gt;
</code></pre></div>
<p>Jetzt sollten die Daten erfolgreich heruntergeladen werden.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>einen neuen Datensatz mit der Datenrichtlinie 'empfohlen' erstellt</li>
<li>einem Datensatz ein Zugriffstoken hinzufügt</li>
<li>überprüft, dass auf den Datensatz ohne Zugriffstoken nicht zugegriffen werden kann</li>
<li>das Zugriffstoken zu HTTP-Headern hinzufügt, um auf den Datensatz zuzugreifen</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-downloading-data-from-wis2" heading-number="2.13"><h1 id="de-practical-sessions-downloading-data-from-wis2-herunterladen-und-dekodieren-von-daten-aus-wis2">Herunterladen und Dekodieren von Daten aus WIS2</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse!</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>den "wis2downloader" zu verwenden, um WIS2-Datenbenachrichtigungen zu abonnieren und Daten auf Ihr lokales System herunterzuladen</li>
<li>den Status der Downloads im Grafana-Dashboard anzuzeigen</li>
<li>einige heruntergeladene Daten mit dem "decode-bufr-jupyter"-Container zu dekodieren</li>
</ul>
</div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-einfuhrung">Einführung</h2>
<p>In dieser Sitzung lernen Sie, wie Sie ein Abonnement bei einem WIS2-Broker einrichten und automatisch Daten mit dem in der wis2box enthaltenen "wis2downloader"-Dienst auf Ihr lokales System herunterladen können.</p>
<div class="admonition note">
<p class="admonition-title">Über wis2downloader</p>
<p>Der wis2downloader ist auch als eigenständiger Dienst verfügbar, der auf einem anderen System als dem, das die WIS2-Benachrichtigungen veröffentlicht, ausgeführt werden kann. Weitere Informationen zur Verwendung des wis2downloaders als eigenständigen Dienst finden Sie unter <a href="https://pypi.org/project/wis2downloader/">wis2downloader</a>.</p>
<p>Wenn Sie Ihren eigenen Dienst zum Abonnieren von WIS2-Benachrichtigungen und zum Herunterladen von Daten entwickeln möchten, können Sie den <a href="https://github.com/wmo-im/wis2downloader">wis2downloader-Quellcode</a> als Referenz verwenden.</p>
</div>
<div class="admonition andere tools für den zugriff auf wis2-daten">
<p class="admonition-title">Andere</p>
<p>Die folgenden Tools können auch verwendet werden, um Daten von WIS2 zu entdecken und darauf zuzugreifen:</p>
<ul>
<li><a href="https://github.com/wmo-im/pywiscat">pywiscat</a> bietet Suchfunktionen für den WIS2 Global Discovery Catalogue zur Unterstützung der Berichterstattung und Analyse des WIS2-Katalogs und seiner zugehörigen Entdeckungsmetadaten</li>
<li><a href="https://github.com/wmo-im/pywis-pubsub">pywis-pubsub</a> bietet Abonnement- und Download-Funktionen für WMO-Daten aus WIS2-Infrastrukturdiensten</li>
</ul>
</div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-vorbereitung">Vorbereitung</h2>
<p>Bitte melden Sie sich vor dem Start bei Ihrer Student-VM an und stellen Sie sicher, dass Ihre wis2box-Instanz läuft.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-1-anzeigen-des-wis2download-dashboards-in-grafana">Übung 1: Anzeigen des wis2download-Dashboards in Grafana</h2>
<p>Öffnen Sie einen Webbrowser und navigieren Sie zum Grafana-Dashboard für Ihre wis2box-Instanz, indem Sie zu <code>http://&lt;Ihr-Host&gt;:3000</code> gehen.</p>
<p>Klicken Sie im linken Menü auf Dashboards und wählen Sie dann das <strong>wis2downloader-Dashboard</strong> aus.</p>
<p>Sie sollten das folgende Dashboard sehen:</p>
<p><img alt="wis2downloader-Dashboard" src="../assets/img/wis2downloader-dashboard.png" /></p>
<p>Dieses Dashboard basiert auf Metriken, die vom wis2downloader-Dienst veröffentlicht werden, und zeigt Ihnen den Status der Downloads an, die derzeit in Bearbeitung sind.</p>
<p>In der oberen linken Ecke sehen Sie die Abonnements, die derzeit aktiv sind.</p>
<p>Lassen Sie dieses Dashboard geöffnet, da Sie es in der nächsten Übung verwenden werden, um den Download-Fortschritt zu überwachen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-2-uberprufen-der-wis2downloader-konfiguration">Übung 2: Überprüfen der wis2downloader-Konfiguration</h2>
<p>Der vom wis2box-Stack gestartete wis2downloader-Dienst kann über die in Ihrer wis2box.env-Datei definierten Umgebungsvariablen konfiguriert werden.</p>
<p>Die folgenden Umgebungsvariablen werden vom wis2downloader verwendet:</p>
<pre><code>- DOWNLOAD_BROKER_HOST: Der Hostname des MQTT-Brokers, zu dem eine Verbindung hergestellt werden soll. Standardmäßig globalbroker.meteo.fr
- DOWNLOAD_BROKER_PORT: Der Port des MQTT-Brokers, zu dem eine Verbindung hergestellt werden soll. Standardmäßig 443 (HTTPS für Websockets)
- DOWNLOAD_BROKER_USERNAME: Der Benutzername für die Verbindung zum MQTT-Broker. Standardmäßig everyone
- DOWNLOAD_BROKER_PASSWORD: Das Passwort für die Verbindung zum MQTT-Broker. Standardmäßig everyone
- DOWNLOAD_BROKER_TRANSPORT: websockets oder tcp, der Transportmechanismus für die Verbindung zum MQTT-Broker. Standardmäßig websockets,
- DOWNLOAD_RETENTION_PERIOD_HOURS: Die Aufbewahrungsdauer in Stunden für die heruntergeladenen Daten. Standardmäßig 24
- DOWNLOAD_WORKERS: Die Anzahl der zu verwendenden Download-Worker. Standardmäßig 8. Bestimmt die Anzahl der parallelen Downloads.
- DOWNLOAD_MIN_FREE_SPACE_GB: Der minimale freie Speicherplatz in GB, der auf dem Volume, das die Downloads hostet, freigehalten werden soll. Standardmäßig 1.
</code></pre>
<p>Um die aktuelle Konfiguration des wis2downloaders zu überprüfen, können Sie den folgenden Befehl verwenden:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box-1.0.0rc1/wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DOWNLOAD
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Überprüfen Sie die Konfiguration des wis2downloaders</p>
<p>Welcher MQTT-Broker ist standardmäßig für den wis2downloader eingestellt?</p>
<p>Wie lange ist die standardmäßige Aufbewahrungsdauer für die heruntergeladenen Daten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der standardmäßige MQTT-Broker, mit dem sich der wis2downloader verbindet, ist <code>globalbroker.meteo.fr</code>.</p>
<p>Die standardmäßige Aufbewahrungsdauer für die heruntergeladenen Daten beträgt 24 Stunden.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Aktualisieren der Konfiguration des wis2downloaders</p>
<p>Um die Konfiguration des wis2downloaders zu aktualisieren, können Sie die wis2box.env-Datei bearbeiten. Um die Änderungen anzuwenden, können Sie den Startbefehl für den wis2box-Stack erneut ausführen:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Sie werden sehen, dass der wis2downloader-Dienst mit der neuen Konfiguration neu gestartet wird.</p>
</div>
<p>Für diese Übung können Sie die Standardkonfiguration beibehalten.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-3-hinzufugen-von-abonnements-zum-wis2downloader">Übung 3: Hinzufügen von Abonnements zum wis2downloader</h2>
<p>Im <strong>wis2downloader</strong>-Container können Sie die Befehlszeile verwenden, um Abonnements aufzulisten, hinzuzufügen und zu löschen.</p>
<p>Um sich beim <strong>wis2downloader</strong>-Container anzumelden, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Verwenden Sie dann den folgenden Befehl, um die Abonnements aufzulisten, die derzeit aktiv sind:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>list-subscriptions
</code></pre></div>
<p>Dieser Befehl gibt eine leere Liste zurück, da derzeit keine Abonnements aktiv sind.</p>
<p>Für diese Übung abonnieren wir das Thema <code>cache/a/wis2/de-dwd-gts-to-wis2/#</code>, um Daten zu abonnieren, die vom DWD-gehosteten GTS-to-WIS2-Gateway veröffentlicht werden, und Benachrichtigungen vom Global Cache herunterzuladen.</p>
<p>Um dieses Abonnement hinzuzufügen, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Verlassen Sie dann den <strong>wis2downloader</strong>-Container, indem Sie <code>exit</code> eingeben:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Überprüfen Sie das wis2downloader-Dashboard in Grafana, um das neue Abonnement zu sehen. Warten Sie einige Minuten, und Sie sollten sehen, dass die ersten Downloads beginnen. Gehen Sie zur nächsten Übung, sobald Sie bestätigt haben, dass die Downloads beginnen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-4-anzeigen-der-heruntergeladenen-daten">Übung 4: Anzeigen der heruntergeladenen Daten</h2>
<p>Der wis2downloader-Dienst im wis2box-Stack lädt die Daten in das Verzeichnis 'downloads' in dem Verzeichnis herunter, das Sie als WIS2BOX_HOST_DATADIR in Ihrer wis2box.env-Datei definiert haben. Um den Inhalt des Downloads-Verzeichnisses anzuzeigen, können Sie den folgenden Befehl verwenden:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Beachten Sie, dass die heruntergeladenen Daten in Verzeichnissen gespeichert werden, die nach dem Thema benannt sind, unter dem die WIS2-Benachrichtigung veröffentlicht wurde.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-5-entfernen-von-abonnements-aus-dem-wis2downloader">Übung 5: Entfernen von Abonnements aus dem wis2downloader</h2>
<p>Melden Sie sich als Nächstes wieder beim wis2downloader-Container an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>und entfernen Sie das von Ihnen erstellte Abonnement aus dem wis2downloader mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>remove-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Und verlassen Sie den wis2downloader-Container, indem Sie <code>exit</code> eingeben:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Überprüfen Sie das wis2downloader-Dashboard in Grafana, um zu sehen, dass das Abonnement entfernt wurde. Sie sollten sehen, dass die Downloads stoppen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-6-abonnieren-des-wis2training-brokers-und-einrichten-eines-neuen-abonnements">Übung 6: Abonnieren des wis2training-Brokers und Einrichten eines neuen Abonnements</h2>
<p>Für die nächste Übung werden wir den wis2training-Broker abonnieren.</p>
<p>Dies zeigt, wie man einen Broker abonniert, der nicht der Standardbroker ist, und ermöglicht es Ihnen, einige Daten herunterzuladen, die vom WIS2 Training Broker veröffentlicht wurden.</p>
<p>Bearbeiten Sie die wis2box.env-Datei und ändern Sie DOWNLOAD_BROKER_HOST in <code>wis2training-broker.wis2dev.io</code>, DOWNLOAD_BROKER_PORT in <code>1883</code> und DOWNLOAD_BROKER_TRANSPORT in <code>tcp</code>:</p>
<div class="highlight"><pre><span></span><code># downloader settings
DOWNLOAD_BROKER_HOST=wis2training-broker.wis2dev.io
DOWNLOAD_BROKER_PORT=1883
DOWNLOAD_BROKER_USERNAME=everyone
DOWNLOAD_BROKER_PASSWORD=everyone
# download transport mechanism (tcp or websockets)
DOWNLOAD_BROKER_TRANSPORT=tcp
</code></pre></div>
<p>Starten Sie dann den wis2box-Stack neu, um die Änderungen anzuwenden:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Überprüfen Sie die Logs des wis2downloaders, um zu sehen, ob die Verbindung zum neuen Broker erfolgreich war:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Sie sollten die folgende Logmeldung sehen:</p>
<div class="highlight"><pre><span></span><code>...
INFO - Connecting...
INFO - Host: wis2training-broker.wis2dev.io, port: 1883
INFO - Connected successfully
</code></pre></div>
<p>Jetzt richten wir ein neues Abonnement für das Thema ein, um Zyklon-Track-Daten vom WIS2 Training Broker herunterzuladen.</p>
<p>Melden Sie sich beim <strong>wis2downloader</strong>-Container an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Und führen Sie den folgenden Befehl aus (kopieren und einfügen, um Tippfehler zu vermeiden):</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
</code></pre></div>
<p>Verlassen Sie den <strong>wis2downloader</strong>-Container, indem Sie <code>exit</code> eingeben.</p>
<p>Warten Sie, bis Sie sehen, dass die Downloads im wis2downloader-Dashboard in Grafana beginnen.</p>
<div class="admonition note">
<p class="admonition-title">Herunterladen von Daten vom WIS2 Training Broker</p>
<p>Der WIS2 Training Broker ist ein Testbroker, der für Schulungszwecke verwendet wird und möglicherweise nicht ständig Daten veröffentlicht.</p>
<p>Während der Präsenzschulungen wird der lokale Trainer sicherstellen, dass der WIS2 Training Broker Daten für Sie zum Herunterladen veröffentlicht.</p>
<p>Wenn Sie diese Übung außerhalb einer Schulungssitzung durchführen, sehen Sie möglicherweise keine heruntergeladenen Daten.</p>
</div>
<p>Überprüfen Sie, ob die Daten heruntergeladen wurden, indem Sie die wis2downloader-Logs erneut überprüfen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Sie sollten eine Logmeldung ähnlich der folgenden sehen:</p>
<div class="highlight"><pre><span></span><code>[...] INFO - Message received under topic origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
[...] INFO - Downloaded A_JSXX05ECEP020000_C_ECMP_...
</code></pre></div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-7-dekodieren-der-heruntergeladenen-daten">Übung 7: Dekodieren der heruntergeladenen Daten</h2>
<p>Um zu demonstrieren, wie Sie die heruntergeladenen Daten dekodieren können, starten wir einen neuen Container mit dem Image 'decode-bufr-jupyter'.</p>
<p>Dieser Container startet einen Jupyter-Notebook-Server auf Ihrer Instanz, der die "ecCodes"-Bibliothek enthält, mit der Sie BUFR-Daten dekodieren können.</p>
<p>Wir verwenden die Beispiel-Notebooks in <code>~/exercise-materials/notebook-examples</code>, um die heruntergeladenen Daten für die Zyklon-Tracks zu dekodieren.</p>
<p>Um den Container zu starten, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>decode-bufr-jupyter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>~/wis2box-data/downloads:/root/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span><span class="m">8888</span>:8888<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-e<span class="w"> </span><span class="nv">JUPYTER_TOKEN</span><span class="o">=</span>dataismagic!<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>mlimper/decode-bufr-jupyter
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Über den decode-bufr-jupyter-Container</p>
<p>Der <code>decode-bufr-jupyter</code>-Container ist ein benutzerdefinierter Container, der die ecCodes-Bibliothek enthält und einen Jupyter-Notebook-Server ausführt.</p>
</div></section><section class="print-page" id="de-practical-sessions-discovering-datasets-from-wis2-gdc" heading-number="2.14"><h1 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-entdeckung-von-datensatzen-aus-dem-wis2-global-discovery-catalogue">Entdeckung von Datensätzen aus dem WIS2 Global Discovery Catalogue</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele!</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>pywiscat zu verwenden, um Datensätze aus dem Global Discovery Catalogue (GDC) zu entdecken</li>
</ul>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-einfuhrung">Einführung</h2>
<p>In dieser Sitzung lernen Sie, wie Sie Daten aus dem WIS2 Global Discovery Catalogue (GDC) entdecken können.</p>
<p>Derzeit sind folgende GDCs verfügbar:</p>
<ul>
<li>Environment and Climate Change Canada, Meteorological Service of Canada: <a href="https://wis2-gdc.weather.gc.ca">https://wis2-gdc.weather.gc.ca</a></li>
<li>China Meteorological Administration: <a href="https://gdc.wis.cma.cn/api">https://gdc.wis.cma.cn/api</a></li>
<li>Deutscher Wetterdienst: <a href="https://wis2.dwd.de/gdc">https://wis2.dwd.de/gdc</a></li>
</ul>
<p>Während lokaler Schulungen wird ein lokaler GDC eingerichtet, damit die Teilnehmer den GDC nach den Metadaten abfragen können, die sie von ihren wis2box-Instanzen veröffentlicht haben. In diesem Fall stellen die Trainer die URL zum lokalen GDC bereit.</p>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-vorbereitung">Vorbereitung</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bitte melden Sie sich vor dem Start an Ihrer Studenten-VM an.</p>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-installation-von-pywiscat">Installation von pywiscat</h2>
<p>Verwenden Sie den Python-Paketinstaller <code>pip3</code>, um pywiscat auf Ihrer VM zu installieren:
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>pywiscat
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wenn Sie den folgenden Fehler erhalten:</p>
<div class="highlight"><pre><span></span><code>WARNING: The script pywiscat is installed in &#39;/home/username/.local/bin&#39; which is not on PATH.
Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
</code></pre></div>
<p>Führen Sie dann den folgenden Befehl aus:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/home/<span class="nv">$USER</span>/.local/bin
</code></pre></div>
<p>...wobei <code>$USER</code> Ihr Benutzername auf Ihrer VM ist.</p>
</div>
<p>Überprüfen Sie, ob die Installation erfolgreich war:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>--version
</code></pre></div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-daten-mit-pywiscat-finden">Daten mit pywiscat finden</h2>
<p>Standardmäßig verbindet sich pywiscat mit dem Global Discovery Catalogue von Kanada. Konfigurieren wir pywiscat so, dass es den Trainings-GDC abfragt, indem wir die Umgebungsvariable <code>PYWISCAT_GDC_URL</code> setzen:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PYWISCAT_GDC_URL</span><span class="o">=</span>http://&lt;lokaler-gdc-host-oder-ip&gt;
</code></pre></div>
<p>Verwenden wir <a href="https://github.com/wmo-im/pywiscat">pywiscat</a>, um den GDC abzufragen, der im Rahmen des Trainings eingerichtet wurde.</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search<span class="w"> </span>--help
</code></pre></div>
<p>Suchen Sie nun im GDC nach allen Datensätzen:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensätze werden bei der Suche zurückgegeben?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Die Anzahl der Datensätze hängt vom GDC ab, den Sie abfragen. Bei Verwendung des lokalen Trainings-GDC sollten Sie sehen, dass die Anzahl der Datensätze gleich der Anzahl der Datensätze ist, die während der anderen praktischen Sitzungen in den GDC aufgenommen wurden.</p>
</details>
<p>Versuchen wir, den GDC mit einem Schlüsselwort abzufragen:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search<span class="w"> </span>-q<span class="w"> </span>observations
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist die Datenpolitik der Ergebnisse?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Alle zurückgegebenen Daten sollten "core"-Daten angeben</p>
</details>
<p>Probieren Sie weitere Abfragen mit <code>-q</code> aus</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Das Flag <code>-q</code> erlaubt die folgende Syntax:</p>
<ul>
<li><code>-q synop</code>: Suche nach allen Datensätzen mit dem Wort "synop"</li>
<li><code>-q temp</code>: Suche nach allen Datensätzen mit dem Wort "temp"</li>
<li><code>-q "observations AND fiji"</code>: Suche nach allen Datensätzen mit den Wörtern "observations" und "fiji"</li>
<li><code>-q "observations NOT fiji"</code>: Suche nach allen Datensätzen, die das Wort "observations", aber nicht das Wort "fiji" enthalten</li>
<li><code>-q "synop OR temp"</code>: Suche nach allen Datensätzen mit "synop" oder "temp"</li>
<li><code>-q "obs~"</code>: Unscharfe Suche</li>
</ul>
<p>Bei der Suche nach Begriffen mit Leerzeichen diese in doppelte Anführungszeichen setzen.</p>
</div>
<p>Lassen Sie uns mehr Details zu einem bestimmten Suchergebnis erhalten, an dem wir interessiert sind:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>get<span class="w"> </span>&lt;id&gt;
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Verwenden Sie den <code>id</code>-Wert aus der vorherigen Suche.</p>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>pywiscat verwendet, um Datensätze aus dem WIS2 Global Discovery Catalogue zu entdecken</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-querying-data-using-the-wis2box-api" heading-number="2.15"><h1 id="de-practical-sessions-querying-data-using-the-wis2box-api-abfrage-von-daten-uber-die-wis2box-api">Abfrage von Daten über die wis2box API</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>die wis2box API zu nutzen, um Ihre Stationen abzufragen und zu filtern</li>
<li>die wis2box API zu nutzen, um Ihre Daten abzufragen und zu filtern</li>
</ul>
</div>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-einfuhrung">Einführung</h2>
<p>Die wis2box API bietet Entdeckungs- und Abfragezugriff in maschinenlesbarer Form auf die Daten, die in wis2box aufgenommen wurden. Die API basiert auf dem OGC API - Features Standard und wird mit <a href="https://pygeoapi.io">pygeoapi</a> implementiert.</p>
<p>Die wis2box API bietet Zugriff auf die folgenden Sammlungen:</p>
<ul>
<li>Stationen</li>
<li>Entdeckungsmetadaten</li>
<li>Datenbenachrichtigungen</li>
<li>plus eine Sammlung pro konfiguriertem Datensatz, die die Ausgabe von bufr2geojson speichert (das Plugin <code>bufr2geojson</code> muss in der Datenzuordnungskonfiguration aktiviert sein, um die Elemente in der Datensatzsammlung zu füllen).</li>
</ul>
<p>In dieser praktischen Sitzung lernen Sie, wie Sie die Daten-API verwenden können, um Daten zu durchsuchen und abzufragen, die in wis2box aufgenommen wurden.</p>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-vorbereitung">Vorbereitung</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Navigieren Sie zur wis2box API-Startseite in Ihrem Webbrowser:</p>
<p><code>http://&lt;your-host&gt;/oapi</code></p>
</div>
<p><img alt="wis2box-api-landing-page" src="../de/assets/img/wis2box-api-landing-page.png" width="600"></p>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-sammlungen-inspizieren">Sammlungen inspizieren</h2>
<p>Klicken Sie auf der Startseite auf den Link 'Collections'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensatzsammlungen sehen Sie auf der resultierenden Seite? Was denken Sie, was jede Sammlung darstellt?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Es sollten 4 Sammlungen angezeigt werden, darunter "Stations", "Discovery metadata" und "Data notifications"</p>
</details>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-stationen-inspizieren">Stationen inspizieren</h2>
<p>Klicken Sie auf der Startseite auf den Link 'Collections' und dann auf den Link 'Stations'.</p>
<p><img alt="wis2box-api-collections-stations" src="../de/assets/img/wis2box-api-collections-stations.png" width="600"></p>
<p>Klicken Sie auf den Link 'Browse' und dann auf den Link 'json'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen werden zurückgegeben? Vergleichen Sie diese Zahl mit der Stationsliste unter <code>http://&lt;your-host&gt;/wis2box-webapp/station</code></p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Die Anzahl der Stationen aus der API sollte gleich der Anzahl der Stationen sein, die Sie in der wis2box-Webapp sehen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir nach einer einzelnen Station suchen (z.B. <code>Balaka</code>)?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Fragen Sie die API mit <code>http://&lt;your-host&gt;/oapi/collections/stations/items?q=Balaka</code> ab.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das obige Beispiel basiert auf den Testdaten aus Malawi. Versuchen Sie, gegen die Stationen zu testen, die Sie im Rahmen der vorherigen Übungen aufgenommen haben.</p>
</div>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-beobachtungen-inspizieren">Beobachtungen inspizieren</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das obige Beispiel basiert auf den Testdaten aus Malawi. Versuchen Sie, gegen die Beobachtungen zu testen, die Sie im Rahmen der Übungen aufgenommen haben.</p>
</div>
<p>Klicken Sie auf der Startseite auf den Link 'Collections' und dann auf den Link 'Surface weather observations from Malawi'.</p>
<p><img alt="wis2box-api-collections-malawi-obs" src="../de/assets/img/wis2box-api-collections-malawi-obs.png" width="600"></p>
<p>Klicken Sie auf den Link 'Queryables'.</p>
<p><img alt="wis2box-api-collections-malawi-obs-queryables" src="../de/assets/img/wis2box-api-collections-malawi-obs-queryables.png" width="600"></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Abfragemöglichkeit würde verwendet werden, um nach Stationskennung zu filtern?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Der <code>wigos_station_identifer</code> ist die richtige Abfragemöglichkeit.</p>
</details>
<p>Navigieren Sie zur vorherigen Seite (d.h. <code>http://&lt;your-host&gt;/oapi/collections/urn:wmo:md:mwi:mwi_met_centre:surface-weather-observations</code>)</p>
<p>Klicken Sie auf den Link 'Browse'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die JSON-Antwort visualisieren?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Indem Sie auf den Link 'JSON' oben rechts auf der Seite klicken oder indem Sie <code>f=json</code> zur API-Anfrage im Webbrowser hinzufügen.</p>
</details>
<p>Überprüfen Sie die JSON-Antwort der Beobachtungen.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensätze werden zurückgegeben?</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Antwort auf 3 Beobachtungen beschränken?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Fügen Sie <code>limit=3</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Antwort nach den neuesten Beobachtungen sortieren?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Fügen Sie <code>sortby=-resultTime</code> zur API-Anfrage hinzu (beachten Sie das <code>-</code>-Zeichen, um die absteigende Sortierreihenfolge anzugeben). Um nach den frühesten Beobachtungen zu sortieren, aktualisieren Sie die Anfrage, um <code>sortby=resultTime</code> einzuschließen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Beobachtungen nach einer einzelnen Station filtern?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Fügen Sie <code>wigos_station_identifier=&lt;WSI&gt;</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Beobachtungen als CSV erhalten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Fügen Sie <code>f=csv</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir eine einzelne Beobachtung (ID) anzeigen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort anzuzeigen</summary>
<p>Verwenden Sie die Feature-ID aus einer API-Anfrage gegen die Beobachtungen und fragen Sie die API für <code>http://&lt;your-host&gt;/oapi/collections/{collectionId}/items/{featureId}</code> ab, wobei <code>{collectionId}</code> der Name Ihrer Beobachtungssammlung und <code>{itemId}</code> die Kennung der einzelnen interessierenden Beobachtung ist.</p>
</details>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-fazit">Fazit</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>die wis2box API nutzt, um Ihre Stationen abzufragen und zu filtern</li>
<li>die wis2box API nutzt, um Ihre Daten abzufragen und zu filtern</li>
</ul>
</div></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Spickzettel<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-cheatsheets-linux" heading-number="3.1"><h1 id="de-cheatsheets-linux-linux-spickzettel">Linux-Spickzettel</h1>
<h2 id="de-cheatsheets-linux-uberblick">Überblick</h2>
<p>Die grundlegenden Konzepte der Arbeit in einem Linux-Betriebssystem sind <strong>Dateien</strong> und <strong>Verzeichnisse</strong> (Ordner), die in einer Baumstruktur innerhalb einer <strong>Umgebung</strong> organisiert sind.</p>
<p>Sobald Sie sich bei einem Linux-System anmelden, arbeiten Sie in einer <strong>Shell</strong>, in der Sie mit Dateien und Verzeichnissen arbeiten können, indem Sie Befehle ausführen, die auf dem System installiert sind. Die Bash-Shell ist eine gängige und beliebte Shell, die typischerweise auf Linux-Systemen zu finden ist.</p>
<h2 id="de-cheatsheets-linux-bash">Bash</h2>
<h3 id="de-cheatsheets-linux-verzeichnisnavigation">Verzeichnisnavigation</h3>
<ul>
<li>Eingabe eines absoluten Verzeichnispfads:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/dir1/dir2
</code></pre></div>
<ul>
<li>Eingabe eines relativen Verzeichnispfads:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>./somedir
</code></pre></div>
<ul>
<li>Ein Verzeichnis nach oben wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<ul>
<li>Zwei Verzeichnisse nach oben wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>../..
</code></pre></div>
<ul>
<li>Zum "Home"-Verzeichnis wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>-
</code></pre></div>
<h3 id="de-cheatsheets-linux-dateiverwaltung">Dateiverwaltung</h3>
<ul>
<li>Dateien im aktuellen Verzeichnis auflisten:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls
</code></pre></div>
<ul>
<li>Dateien im aktuellen Verzeichnis mit mehr Details auflisten:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l
</code></pre></div>
<ul>
<li>Das Wurzelverzeichnis des Dateisystems auflisten:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>/
</code></pre></div>
<ul>
<li>Eine leere Datei erstellen:</li>
</ul>
<div class="highlight"><pre><span></span><code>touch<span class="w"> </span>foo.txt
</code></pre></div>
<ul>
<li>Eine Datei mit dem <code>echo</code>-Befehl erstellen:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hi there&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Den Inhalt einer Datei anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Eine Datei kopieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>file1<span class="w"> </span>file2
</code></pre></div>
<ul>
<li>Platzhalter: Mit Dateimustern arbeiten:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>fil*<span class="w">  </span><span class="c1"># passt auf file1 und file2</span>
</code></pre></div>
<ul>
<li>Zwei Dateien zu einer neuen Datei namens <code>newfile</code> zusammenfügen:</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>file1<span class="w"> </span>file2<span class="w"> </span>&gt;<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Eine weitere Datei an <code>newfile</code> anhängen:</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>file3<span class="w"> </span>&gt;&gt;<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Eine Datei löschen:</li>
</ul>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Alle Dateien mit der gleichen Dateierweiterung löschen:</li>
</ul>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>*.dat
</code></pre></div>
<ul>
<li>Ein Verzeichnis erstellen:</li>
</ul>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>dir1
</code></pre></div>
<h3 id="de-cheatsheets-linux-befehle-mit-pipes-verketten">Befehle mit Pipes verketten</h3>
<p>Pipes ermöglichen es einem Benutzer, die Ausgabe eines Befehls an einen anderen zu senden, indem das Pipe-Symbol <code>|</code> verwendet wird:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hi&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/hi/bye/&#39;</span>
</code></pre></div>
<ul>
<li>Befehlsausgaben mit grep filtern:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;id,title&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1,birds&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2,fish&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3,cats&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt

cat<span class="w"> </span>test-file.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>fish
</code></pre></div>
<ul>
<li>Groß-/Kleinschreibung ignorieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-i<span class="w"> </span>FISH<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Übereinstimmende Zeilen zählen:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-c<span class="w"> </span>fish<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Ausgaben zurückgeben, die das Schlüsselwort nicht enthalten:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-v<span class="w"> </span>birds<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Die Anzahl der Zeilen in <code>test-file.txt</code> zählen:</li>
</ul>
<div class="highlight"><pre><span></span><code>wc<span class="w"> </span>-l<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Ausgabe seitenweise anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>test-file.txt
</code></pre></div>
<p>...mit Steuerungsmöglichkeiten:</p>
<ul>
<li>Zeilenweise nach unten scrollen: <em>Enter</em></li>
<li>Zur nächsten Seite gehen: <em>Leertaste</em></li>
<li>
<p>Eine Seite zurückgehen: <em>b</em></p>
</li>
<li>
<p>Die ersten 3 Zeilen der Datei anzeigen:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>head<span class="w"> </span>-3<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Die letzten 2 Zeilen der Datei anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>tail<span class="w"> </span>-2<span class="w"> </span>test-file.txt
</code></pre></div></section><section class="print-page" id="de-cheatsheets-docker" heading-number="3.2"><h1 id="de-cheatsheets-docker-docker-spickzettel">Docker-Spickzettel</h1>
<h2 id="de-cheatsheets-docker-uberblick">Überblick</h2>
<p>Docker ermöglicht die Erstellung virtueller Umgebungen in isolierter Weise zur Unterstützung
der Virtualisierung von Rechenressourcen. Das grundlegende Konzept hinter Docker ist die Containerisierung,
bei der Software als Dienste laufen kann, die beispielsweise mit anderen Software-Containern interagieren.</p>
<p>Der typische Docker-Workflow umfasst das Erstellen und Bauen von <strong>Images</strong>, die dann als aktive <strong>Container</strong> ausgeführt werden.</p>
<p>Docker wird verwendet, um die Reihe von Diensten auszuführen, die wis2box mit vorgefertigten Images bilden.</p>
<h3 id="de-cheatsheets-docker-image-verwaltung">Image-Verwaltung</h3>
<ul>
<li>Verfügbare Images auflisten</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>image<span class="w"> </span>ls
</code></pre></div>
<ul>
<li>Ein Image aktualisieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>pull<span class="w"> </span>my-image:latest
</code></pre></div>
<ul>
<li>Ein Image entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rmi<span class="w"> </span>my-image:local
</code></pre></div>
<h3 id="de-cheatsheets-docker-volume-verwaltung">Volume-Verwaltung</h3>
<ul>
<li>Alle erstellten Volumes auflisten:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>ls
</code></pre></div>
<ul>
<li>Detaillierte Informationen zu einem Volume anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>inspect<span class="w"> </span>my-volume
</code></pre></div>
<ul>
<li>Ein Volume entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>my-volume
</code></pre></div>
<ul>
<li>Alle ungenutzten Volumes entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>prune
</code></pre></div>
<h3 id="de-cheatsheets-docker-container-verwaltung">Container-Verwaltung</h3>
<ul>
<li>Eine Liste der aktuell laufenden Container anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>ps
</code></pre></div>
<ul>
<li>Liste aller Container:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>ps<span class="w"> </span>-a
</code></pre></div>
<ul>
<li>Das interaktive Terminal eines laufenden Containers öffnen:</li>
</ul>
<div class="admonition tipp">
<p class="admonition-title">Tipp</p>
<p>Verwenden Sie <code>docker ps</code>, um die Container-ID im folgenden Befehl zu verwenden</p>
</div>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>my-container<span class="w"> </span>/bin/bash
</code></pre></div>
<ul>
<li>Einen Container entfernen</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rm<span class="w"> </span>my-container
</code></pre></div>
<ul>
<li>Einen laufenden Container entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>my-container
</code></pre></div></section><section class="print-page" id="de-cheatsheets-wis2box" heading-number="3.3"><h1 id="de-cheatsheets-wis2box-wis2-in-a-box-spickzettel">WIS2 in a box Spickzettel</h1>
<h2 id="de-cheatsheets-wis2box-uberblick">Überblick</h2>
<p>wis2box läuft als eine Reihe von Docker Compose-Befehlen. Der Befehl <code>wis2box-ctl.py</code> ist ein Hilfsprogramm (in Python geschrieben), um Docker Compose-Befehle einfach auszuführen.</p>
<h2 id="de-cheatsheets-wis2box-wis2box-befehlsgrundlagen">wis2box Befehlsgrundlagen</h2>
<h3 id="de-cheatsheets-wis2box-starten-und-stoppen">Starten und Stoppen</h3>
<ul>
<li>wis2box starten:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<ul>
<li>wis2box stoppen:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>stop
</code></pre></div>
<ul>
<li>Überprüfen, ob alle wis2box-Container laufen:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<ul>
<li>Bei einem wis2box-Container anmelden (<em>wis2box-management</em> standardmäßig):</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<ul>
<li>Bei einem bestimmten wis2box-Container anmelden:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2box-api
</code></pre></div></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>CSV2BUFR-Vorlagen<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-csv2bufr-templates-aws-template" heading-number="4.1"><h1 id="de-csv2bufr-templates-aws-template-csv2bufr-vorlage-fur-automatische-wetterstationen-die-stundliche-gbon-daten-melden">csv2bufr-Vorlage für automatische Wetterstationen, die stündliche GBON-Daten melden</h1>
<p>Die <strong>AWS-Vorlage</strong> verwendet ein standardisiertes CSV-Format, um Daten von automatischen Wetterstationen zur Unterstützung der GBON-Berichtsanforderungen zu erfassen. Diese Mapping-Vorlage konvertiert CSV-Daten in die BUFR-Sequenz 301150, 307096.</p>
<p>Das Format ist für den Einsatz mit automatischen Wetterstationen gedacht, die eine Mindestanzahl von Parametern melden, darunter Luftdruck, Lufttemperatur und Luftfeuchtigkeit, Windgeschwindigkeit und -richtung sowie Niederschlag auf stündlicher Basis.</p>
<h2 id="de-csv2bufr-templates-aws-template-csv-spalten-und-beschreibung">CSV-Spalten und Beschreibung</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Units</th>
<th style="text-align: left;">Data type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">wsi_series</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS identifier series</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issuer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS issuer of identifier</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issue_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS issue number</td>
</tr>
<tr>
<td style="text-align: left;">wsi_local</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Character</td>
<td style="text-align: left;">WIGOS local identifier</td>
</tr>
<tr>
<td style="text-align: left;">wmo_block_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO block number</td>
</tr>
<tr>
<td style="text-align: left;">wmo_station_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO station number</td>
</tr>
<tr>
<td style="text-align: left;">station_type</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Type of observing station, encoding using code table 0 02 001 (set to 0, automatic)</td>
</tr>
<tr>
<td style="text-align: left;">year</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Year (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">month</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Month (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">day</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Day (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Hour (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Minute (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">latitude</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Latitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">longitude</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Longitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">station_height_above_msl</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the station ground above mean sea level (to 1 decimal place)</td>
</tr>
<tr>
<td style="text-align: left;">barometer_height_above_msl</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the barometer above mean sea level (to 1 decimal place), typically height of station ground plus the height of the sensor above local ground</td>
</tr>
<tr>
<td style="text-align: left;">station_pressure</td>
<td style="text-align: left;">Pa</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Pressure observed at the station level to the nearest 10 pascals</td>
</tr>
<tr>
<td style="text-align: left;">msl_pressure</td>
<td style="text-align: left;">Pa</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Pressure reduced to mean sea level to the nearest 10 pascals</td>
</tr>
<tr>
<td style="text-align: left;">geopotential_height</td>
<td style="text-align: left;">gpm</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Geoptential height expressed in geopotential meters (gpm) to 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">thermometer_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of thermometer or temperature sensor above the local ground to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">air_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Instantaneous air temperature to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">dewpoint_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Instantaneous dewpoint temperature to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">relative_humidity</td>
<td style="text-align: left;">%</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Instantaneous relative humidity to zero decimal places</td>
</tr>
<tr>
<td style="text-align: left;">method_of_ground_state_measurement</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method of observing the state of the ground, encoded using code table 0 02 176</td>
</tr>
<tr>
<td style="text-align: left;">ground_state</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">State of the ground encoded using code table 0 20 062</td>
</tr>
<tr>
<td style="text-align: left;">method_of_snow_depth_measurement</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method of observing the snow depth encoded using code table 0 02 177</td>
</tr>
<tr>
<td style="text-align: left;">snow_depth</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Snow depth at time of observation to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_intensity</td>
<td style="text-align: left;">kg m-2 h-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Intensity of precipitation at time of observation to 5 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">anemometer_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the anemometer above local ground  to 2 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">time_period_of_wind</td>
<td style="text-align: left;">minutes</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Defines the time period over which the wind speed and direction have been averaged. Set to -10 to indicate a measurement period over the preceeding 10 minutes.</td>
</tr>
<tr>
<td style="text-align: left;">wind_direction</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Wind direction (at anemometer height) averaged from the caterisan components over the indicated time period, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">wind_speed</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Wind speed (at anemometer height) averaged from the cartesian components over the indicated time period, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_10_minutes</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 10 minutes, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_10_minutes</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 10 minutes, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_1_hour</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding hour, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_1_hour</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding hour, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_3_hours</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 3 hours, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_3_hours</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 3 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">rain_sensor_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the rain gauge above local ground to 2 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_1_hour</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past hour, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_3_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 3 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_6_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 6 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_12_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 12 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_24_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 24 hours, 1 decimal place</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-aws-template-beispiel">Beispiel</h2>
<p>Beispiel-CSV-Datei, die der AWS-Vorlage entspricht: <a href="/sample-data/aws-example.csv">aws-example.csv</a>.</p></section><section class="print-page" id="de-csv2bufr-templates-daycli-template" heading-number="4.2"><h1 id="de-csv2bufr-templates-daycli-template-csv2bufr-vorlage-fur-tagliche-klimadaten-daycli">csv2bufr-Vorlage für tägliche Klimadaten (DAYCLI)</h1>
<p>Die <strong>DAYCLI</strong>-Vorlage bietet ein standardisiertes CSV-Format für die Konvertierung täglicher Klimadaten in die BUFR-Sequenz 307075.</p>
<p>Das Format ist für die Verwendung mit Klimadatenmanagementsystemen zur Veröffentlichung von Daten auf WIS2 vorgesehen, um die Berichtsanforderungen für tägliche Klimabeobachtungen zu unterstützen.</p>
<p>Diese Vorlage erfasst tägliche Beobachtungen von:</p>
<ul>
<li>Minimale, maximale und durchschnittliche Temperatur über einen Zeitraum von 24 Stunden</li>
<li>Gesamte angesammelte Niederschlagsmenge über einen Zeitraum von 24 Stunden</li>
<li>Gesamte Schneehöhe zum Zeitpunkt der Beobachtung</li>
<li>Höhe des Neuschnees über einen Zeitraum von 24 Stunden</li>
</ul>
<p>Diese Vorlage erfordert zusätzliche Metadaten im Vergleich zur vereinfachten AWS-Vorlage: Methode zur Berechnung der Durchschnittstemperatur; Sensor- und Stationshöhen; Expositions- und Messqualitätsklassifikation.</p>
<div class="admonition hinweis">
<p class="admonition-title">Über die DAYCLI-Vorlage</p>
<p>Bitte beachten Sie, dass die DAYCLI-BUFR-Sequenz im Laufe des Jahres 2025 aktualisiert wird, um zusätzliche Informationen und überarbeitete QC-Flags einzuschließen. Die in der wis2box enthaltene DAYCLI-Vorlage wird aktualisiert, um diese Änderungen widerzuspiegeln. Die WMO wird mitteilen, wann die wis2box-Software aktualisiert wird, um die neue DAYCLI-Vorlage zu integrieren, damit Benutzer ihre Systeme entsprechend aktualisieren können.</p>
</div>
<h2 id="de-csv2bufr-templates-daycli-template-csv-spalten-und-beschreibung">CSV-Spalten und Beschreibung</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Units</th>
<th style="text-align: left;">Data Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">wsi_series</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier series, set to 0 for stations</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issuer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier issue, ISO 3 digit (number) country code or 20000 series</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issue_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier issue number</td>
</tr>
<tr>
<td style="text-align: left;">wsi_local</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Character</td>
<td style="text-align: left;">WIGOS Identifier local identifier, alphanumeric, max 16 characters</td>
</tr>
<tr>
<td style="text-align: left;">wmo_block_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO block number for station 0 - 99</td>
</tr>
<tr>
<td style="text-align: left;">wmo_station_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO station number 0 - 999</td>
</tr>
<tr>
<td style="text-align: left;">latitude</td>
<td style="text-align: left;">Degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Latitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">longitude</td>
<td style="text-align: left;">Degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Longitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">station_height_above_msl</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the station ground above mean sea level (to 1 decimal place)</td>
</tr>
<tr>
<td style="text-align: left;">temperature_siting_classification</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Combined sensor siting and measurement quality classification (temperature). See references for siting classification</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_siting_classification</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Combined sensor siting and measurement quality classification (precipitation). See references for siting classification</td>
</tr>
<tr>
<td style="text-align: left;">averaging_method</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method used to calculate daily average temperature</td>
</tr>
<tr>
<td style="text-align: left;">year</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Year (UTC) of nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">month</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Month (UTC) of nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">day</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Day (UTC) of month for nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for precipitation, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total accumulated precipitation over indicated 24 hour period (kg m-3, equivalent to mm)</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for total accumulated precipitation</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for fresh snow depth, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_depth</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Fresh snow depth over indicated 24 hour period (m, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_depth_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the fresh snow depth</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for total snow depth, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_depth</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total snow depth over indicated 24 hour period (m, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_depth_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the total snow depth</td>
</tr>
<tr>
<td style="text-align: left;">thermometer_height</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of thermometer above local ground level (m)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for maximum temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the maximum temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the maximum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the maximum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Maximum temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the maximum temperature</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for minimum temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the minimum temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the minimum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the minimum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Minimum temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the minimum temperature</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for average temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the average temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the average temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the average temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Average temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the average temperature</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-mittelungsmethode">Mittelungsmethode</h2>
<table>
<thead>
<tr>
<th style="text-align: right;">Integer</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Average of minimum and maximum temperatures</td>
</tr>
<tr>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Average of 8 tri-hourly observations</td>
</tr>
<tr>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Average of 24 hourly observations</td>
</tr>
<tr>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Weighted average of three observations</td>
</tr>
<tr>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Weighted average of three observations, as well as the minimum and maximum values</td>
</tr>
<tr>
<td style="text-align: right;">5</td>
<td style="text-align: left;">AWS complete integration from minute data</td>
</tr>
<tr>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Average of 4 six-hourly observations</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-qualitatsflag">Qualitätsflag</h2>
<table>
<thead>
<tr>
<th style="text-align: right;">Integer</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Data checked and declared good</td>
</tr>
<tr>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Data checked and declared suspect</td>
</tr>
<tr>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Data checked and declared aggregated</td>
</tr>
<tr>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Data checked and declared out of instrument range</td>
</tr>
<tr>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Data checked and declared aggregated and out of instrument range</td>
</tr>
<tr>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Parameter is not measured at the station</td>
</tr>
<tr>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Daily value not provided</td>
</tr>
<tr>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Data unchecked</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-referenzen-fur-standortklassifikation">Referenzen für Standortklassifikation</h2>
<p><a href="https://library.wmo.int/idviewer/35625/839">Referenz für "temperature_siting_classification"</a>.</p>
<p><a href="https://library.wmo.int/idviewer/35625/840">Referenz für "precipitation_siting_classification"</a>.</p>
<h2 id="de-csv2bufr-templates-daycli-template-beispiel">Beispiel</h2>
<p>Beispiel-CSV-Datei, die der DAYCLI-Vorlage entspricht: <a href="/sample-data/daycli-example.csv">daycli-example.csv</a>.</p></section></section></div><style>.print-site-enumerate-headings #de > h1:before { content: '1 ' }

                .print-site-enumerate-headings #de h2 { counter-reset: counter-de-3 1; counter-increment: counter-de-2 }
                .print-site-enumerate-headings #de h2:before { content: '1.' counter(counter-de-2) ' ' }
            
                .print-site-enumerate-headings #de h3 { counter-reset: ; counter-increment: counter-de-3 }
                .print-site-enumerate-headings #de h3:before { content: '1.' counter(counter-de-2) '.' counter(counter-de-3) ' ' }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-connecting-to-wis2-over-mqtt-3 }
                .print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt h3:before { content: '2.1.' counter(counter-de-practical-sessions-connecting-to-wis2-over-mqtt-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-accessing-your-student-vm-3 }
                .print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm h3:before { content: '2.2.' counter(counter-de-practical-sessions-accessing-your-student-vm-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-initializing-wis2box > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #de-practical-sessions-initializing-wis2box h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-initializing-wis2box-3 }
                .print-site-enumerate-headings #de-practical-sessions-initializing-wis2box h3:before { content: '2.3.' counter(counter-de-practical-sessions-initializing-wis2box-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-configuring-wis2box-datasets-3 }
                .print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets h3:before { content: '2.4.' counter(counter-de-practical-sessions-configuring-wis2box-datasets-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-configuring-station-metadata-3 }
                .print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata h3:before { content: '2.5.' counter(counter-de-practical-sessions-configuring-station-metadata-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-monitoring-wis2-notifications-3 }
                .print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications h3:before { content: '2.6.' counter(counter-de-practical-sessions-monitoring-wis2-notifications-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr > h1:before { content: '2.7 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-synop-data-to-bufr-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr h3:before { content: '2.7.' counter(counter-de-practical-sessions-converting-synop-data-to-bufr-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form > h1:before { content: '2.8 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-synop-data-to-bufr-form-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form h3:before { content: '2.8.' counter(counter-de-practical-sessions-converting-synop-data-to-bufr-form-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr > h1:before { content: '2.9 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-csv-data-to-bufr-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr h3:before { content: '2.9.' counter(counter-de-practical-sessions-converting-csv-data-to-bufr-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion > h1:before { content: '2.10 ' }

                .print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-automating-data-ingestion-3 }
                .print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion h3:before { content: '2.10.' counter(counter-de-practical-sessions-automating-data-ingestion-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications > h1:before { content: '2.11 ' }

                .print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-adding-gts-headers-to-wis2-notifications-3 }
                .print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications h3:before { content: '2.11.' counter(counter-de-practical-sessions-adding-gts-headers-to-wis2-notifications-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control > h1:before { content: '2.12 ' }

                .print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-datasets-with-access-control-3 }
                .print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control h3:before { content: '2.12.' counter(counter-de-practical-sessions-datasets-with-access-control-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 > h1:before { content: '2.13 ' }

                .print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-downloading-data-from-wis2-3 }
                .print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 h3:before { content: '2.13.' counter(counter-de-practical-sessions-downloading-data-from-wis2-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc > h1:before { content: '2.14 ' }

                .print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-discovering-datasets-from-wis2-gdc-3 }
                .print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc h3:before { content: '2.14.' counter(counter-de-practical-sessions-discovering-datasets-from-wis2-gdc-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api > h1:before { content: '2.15 ' }

                .print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-querying-data-using-the-wis2box-api-3 }
                .print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api h3:before { content: '2.15.' counter(counter-de-practical-sessions-querying-data-using-the-wis2box-api-3) ' ' }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #de-cheatsheets-linux > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #de-cheatsheets-linux h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-linux-3 }
                .print-site-enumerate-headings #de-cheatsheets-linux h3:before { content: '3.1.' counter(counter-de-cheatsheets-linux-3) ' ' }
            
.print-site-enumerate-headings #de-cheatsheets-docker > h1:before { content: '3.2 ' }

                .print-site-enumerate-headings #de-cheatsheets-docker h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-docker-3 }
                .print-site-enumerate-headings #de-cheatsheets-docker h3:before { content: '3.2.' counter(counter-de-cheatsheets-docker-3) ' ' }
            
.print-site-enumerate-headings #de-cheatsheets-wis2box > h1:before { content: '3.3 ' }

                .print-site-enumerate-headings #de-cheatsheets-wis2box h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-wis2box-3 }
                .print-site-enumerate-headings #de-cheatsheets-wis2box h3:before { content: '3.3.' counter(counter-de-cheatsheets-wis2box-3) ' ' }
            
.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #de-csv2bufr-templates-aws-template > h1:before { content: '4.1 ' }

                .print-site-enumerate-headings #de-csv2bufr-templates-aws-template h3 { counter-reset: ; counter-increment: counter-de-csv2bufr-templates-aws-template-3 }
                .print-site-enumerate-headings #de-csv2bufr-templates-aws-template h3:before { content: '4.1.' counter(counter-de-csv2bufr-templates-aws-template-3) ' ' }
            
.print-site-enumerate-headings #de-csv2bufr-templates-daycli-template > h1:before { content: '4.2 ' }

                .print-site-enumerate-headings #de-csv2bufr-templates-daycli-template h3 { counter-reset: ; counter-increment: counter-de-csv2bufr-templates-daycli-template-3 }
                .print-site-enumerate-headings #de-csv2bufr-templates-daycli-template h3:before { content: '4.2.' counter(counter-de-csv2bufr-templates-daycli-template-3) ' ' }
            </style>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/wis2docs-claude/", "features": ["navigation.indexes", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>